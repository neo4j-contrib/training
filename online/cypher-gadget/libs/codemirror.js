window.CodeMirror=(function(){var bC=/gecko\/\d/i.test(navigator.userAgent);var cu=/MSIE \d/.test(navigator.userAgent);var bz=cu&&(document.documentMode==null||document.documentMode<8);var by=cu&&(document.documentMode==null||document.documentMode<9);var b2=/WebKit\//.test(navigator.userAgent);var cx=b2&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var ca=/Chrome\//.test(navigator.userAgent);var dP=/Opera\//.test(navigator.userAgent);var ae=/Apple Computer/.test(navigator.vendor);var aD=/KHTML\//.test(navigator.userAgent);var bN=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var b7=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var dM=/PhantomJS/.test(navigator.userAgent);var dn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cP=dn||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bl=dn||/Mac/.test(navigator.platform);var am=/win/i.test(navigator.platform);var c1=dP&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(c1){c1=Number(c1[1])}if(c1&&c1>=15){dP=false;b2=true}var bb=bl&&(cx||dP&&(c1==null||c1<12.11));var bR=bC||(cu&&!by);var ed=false,az=false;function z(ej,ek){if(!(this instanceof z)){return new z(ej,ek)}this.options=ek=ek||{};for(var el in dq){if(!ek.hasOwnProperty(el)&&dq.hasOwnProperty(el)){ek[el]=dq[el]}}bt(ek);var ep=typeof ek.value=="string"?0:ek.value.first;var eo=this.display=f(ej,ep);eo.wrapper.CodeMirror=this;cL(this);if(ek.autofocus&&!cP){c4(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new ei()};bW(this);if(ek.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var en=ek.value;if(typeof en=="string"){en=new Y(ek.value,ek.mode)}b3(this,cK)(this,en);if(cu){setTimeout(bI(dI,this,true),20)}d2(this);var eq;try{eq=(document.activeElement==eo.input)}catch(em){}if(eq||(ek.autofocus&&!cP)){setTimeout(bI(bM,this),20)}else{ar(this)}b3(this,function(){for(var es in aG){if(aG.propertyIsEnumerable(es)){aG[es](this,ek[es],br)}}for(var er=0;er<aA.length;++er){aA[er](this)}})()}function f(ej,el){var em={};var ek=em.input=d7("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(b2){ek.style.width="1000px"}else{ek.setAttribute("wrap","off")}if(dn){ek.style.border="1px solid black"}ek.setAttribute("autocorrect","off");ek.setAttribute("autocapitalize","off");ek.setAttribute("spellcheck","false");em.inputDiv=d7("div",[ek],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");em.scrollbarH=d7("div",[d7("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");em.scrollbarV=d7("div",[d7("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");em.scrollbarFiller=d7("div",null,"CodeMirror-scrollbar-filler");em.gutterFiller=d7("div",null,"CodeMirror-gutter-filler");em.lineDiv=d7("div",null,"CodeMirror-code");em.selectionDiv=d7("div",null,null,"position: relative; z-index: 1");em.cursor=d7("div","\u00a0","CodeMirror-cursor");em.otherCursor=d7("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");em.measure=d7("div",null,"CodeMirror-measure");em.lineSpace=d7("div",[em.measure,em.selectionDiv,em.lineDiv,em.cursor,em.otherCursor],null,"position: relative; outline: none");em.mover=d7("div",[d7("div",[em.lineSpace],"CodeMirror-lines")],null,"position: relative");em.sizer=d7("div",[em.mover],"CodeMirror-sizer");em.heightForcer=d7("div",null,null,"position: absolute; height: "+aK+"px; width: 1px;");em.gutters=d7("div",null,"CodeMirror-gutters");em.lineGutter=null;em.scroller=d7("div",[em.sizer,em.heightForcer,em.gutters],"CodeMirror-scroll");em.scroller.setAttribute("tabIndex","-1");em.wrapper=d7("div",[em.inputDiv,em.scrollbarH,em.scrollbarV,em.scrollbarFiller,em.gutterFiller,em.scroller],"CodeMirror");if(bz){em.gutters.style.zIndex=-1;em.scroller.style.paddingRight=0}if(ej.appendChild){ej.appendChild(em.wrapper)}else{ej(em.wrapper)}if(dn){ek.style.width="0px"}if(!b2){em.scroller.draggable=true}if(aD){em.inputDiv.style.height="1px";em.inputDiv.style.position="absolute"}else{if(bz){em.scrollbarH.style.minWidth=em.scrollbarV.style.minWidth="18px"}}em.viewOffset=em.lastSizeC=0;em.showingFrom=em.showingTo=el;em.lineNumWidth=em.lineNumInnerWidth=em.lineNumChars=null;em.prevInput="";em.alignWidgets=false;em.pollingFast=false;em.poll=new ei();em.cachedCharWidth=em.cachedTextHeight=null;em.measureLineCache=[];em.measureLineCachePos=0;em.inaccurateSelection=false;em.maxLine=null;em.maxLineLength=0;em.maxLineChanged=false;em.wheelDX=em.wheelDY=em.wheelStartX=em.wheelStartY=null;return em}function aS(ej){ej.doc.mode=z.getMode(ej.options,ej.doc.modeOption);ej.doc.iter(function(ek){if(ek.stateAfter){ek.stateAfter=null}if(ek.styles){ek.styles=null}});ej.doc.frontier=ej.doc.first;cO(ej,100);ej.state.modeGen++;if(ej.curOp){O(ej)}}function dc(ej){if(ej.options.lineWrapping){ej.display.wrapper.className+=" CodeMirror-wrap";ej.display.sizer.style.minWidth=""}else{ej.display.wrapper.className=ej.display.wrapper.className.replace(" CodeMirror-wrap","");d9(ej)}J(ej);O(ej);R(ej);setTimeout(function(){dl(ej)},100)}function aF(ej){var el=au(ej.display),ek=ej.options.lineWrapping;var em=ek&&Math.max(5,ej.display.scroller.clientWidth/cs(ej.display)-3);return function(en){if(dN(ej.doc,en)){return 0}else{if(ek){return(Math.ceil(en.text.length/em)||1)*el}else{return el}}}}function J(ej){var el=ej.doc,ek=aF(ej);el.iter(function(em){var en=ek(em);if(en!=em.height){eb(em,en)}})}function eg(ej){var el=du[ej.options.keyMap],ek=el.style;ej.display.wrapper.className=ej.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(ek?" cm-keymap-"+ek:"");ej.state.disableInput=el.disableInput}function bW(ej){ej.display.wrapper.className=ej.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+ej.options.theme.replace(/(^|\s)\s*/g," cm-s-");R(ej)}function cn(ej){cL(ej);O(ej);setTimeout(function(){c8(ej)},20)}function cL(ej){var ek=ej.display.gutters,eo=ej.options.gutters;cE(ek);for(var el=0;el<eo.length;++el){var em=eo[el];var en=ek.appendChild(d7("div",null,"CodeMirror-gutter "+em));if(em=="CodeMirror-linenumbers"){ej.display.lineGutter=en;en.style.width=(ej.display.lineNumWidth||1)+"px"}}ek.style.display=el?"":"none"}function cT(en,el){if(el.height==0){return 0}var ek=el.text.length,ej,eo=el;while(ej=df(eo)){var em=ej.find();eo=dx(en,em.from.line);ek+=em.from.ch-em.to.ch}eo=el;while(ej=cY(eo)){var em=ej.find();ek-=eo.text.length-em.from.ch;eo=dx(en,em.to.line);ek+=eo.text.length-em.to.ch}return ek}function d9(ej){var el=ej.display,ek=ej.doc;el.maxLine=dx(ek,ek.first);el.maxLineLength=cT(ek,el.maxLine);el.maxLineChanged=true;ek.iter(function(en){var em=cT(ek,en);if(em>el.maxLineLength){el.maxLineLength=em;el.maxLine=en}})}function bt(ej){var el=false;for(var ek=0;ek<ej.gutters.length;++ek){if(ej.gutters[ek]=="CodeMirror-linenumbers"){if(ej.lineNumbers){el=true}else{ej.gutters.splice(ek--,1)}}}if(!el&&ej.lineNumbers){ej.gutters.push("CodeMirror-linenumbers")}}function dl(ej){var ep=ej.display,ek=ej.doc.height;var em=ek+a4(ep);ep.sizer.style.minHeight=ep.heightForcer.style.top=em+"px";ep.gutters.style.height=Math.max(em,ep.scroller.clientHeight-aK)+"px";var en=Math.max(em,ep.scroller.scrollHeight);var eo=ep.scroller.scrollWidth>(ep.scroller.clientWidth+1);var el=en>(ep.scroller.clientHeight+1);if(el){ep.scrollbarV.style.display="block";ep.scrollbarV.style.bottom=eo?i(ep.measure)+"px":"0";ep.scrollbarV.firstChild.style.height=(en-ep.scroller.clientHeight+ep.scrollbarV.clientHeight)+"px"}else{ep.scrollbarV.style.display="";ep.scrollbarV.firstChild.style.height="0"}if(eo){ep.scrollbarH.style.display="block";ep.scrollbarH.style.right=el?i(ep.measure)+"px":"0";ep.scrollbarH.firstChild.style.width=(ep.scroller.scrollWidth-ep.scroller.clientWidth+ep.scrollbarH.clientWidth)+"px"}else{ep.scrollbarH.style.display="";ep.scrollbarH.firstChild.style.width="0"}if(eo&&el){ep.scrollbarFiller.style.display="block";ep.scrollbarFiller.style.height=ep.scrollbarFiller.style.width=i(ep.measure)+"px"}else{ep.scrollbarFiller.style.display=""}if(eo&&ej.options.coverGutterNextToScrollbar&&ej.options.fixedGutter){ep.gutterFiller.style.display="block";ep.gutterFiller.style.height=i(ep.measure)+"px";ep.gutterFiller.style.width=ep.gutters.offsetWidth+"px"}else{ep.gutterFiller.style.display=""}if(bN&&i(ep.measure)===0){ep.scrollbarV.style.minWidth=ep.scrollbarH.style.minHeight=b7?"18px":"12px"}}function bk(eo,en,em){var el=eo.scroller.scrollTop,ej=eo.wrapper.clientHeight;if(typeof em=="number"){el=em}else{if(em){el=em.top;ej=em.bottom-em.top}}el=Math.floor(el-ds(eo));var ek=Math.ceil(el+ej);return{from:a2(en,el),to:a2(en,ek)}}function c8(ej){var ep=ej.display;if(!ep.alignWidgets&&(!ep.gutters.firstChild||!ej.options.fixedGutter)){return}var em=cD(ep)-ep.scroller.scrollLeft+ej.doc.scrollLeft;var eo=ep.gutters.offsetWidth,el=em+"px";for(var eq=ep.lineDiv.firstChild;eq;eq=eq.nextSibling){if(eq.alignable){for(var en=0,ek=eq.alignable;en<ek.length;++en){ek[en].style.left=el}}}if(ej.options.fixedGutter){ep.gutters.style.left=(em+eo)+"px"}}function cG(ej){if(!ej.options.lineNumbers){return false}var eo=ej.doc,ek=cW(ej.options,eo.first+eo.size-1),en=ej.display;if(ek.length!=en.lineNumChars){var ep=en.measure.appendChild(d7("div",[d7("div",ek)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var el=ep.firstChild.offsetWidth,em=ep.offsetWidth-el;en.lineGutter.style.width="";en.lineNumInnerWidth=Math.max(el,en.lineGutter.offsetWidth-em);en.lineNumWidth=en.lineNumInnerWidth+em;en.lineNumChars=en.lineNumInnerWidth?ek.length:-1;en.lineGutter.style.width=en.lineNumWidth+"px";return true}return false}function cW(ej,ek){return String(ej.lineNumberFormatter(ek+ej.firstLineNumber))}function cD(ej){return al(ej.scroller).left-al(ej.sizer).left}function cv(ej,em,eo,en){var el=ej.display.showingFrom,eq=ej.display.showingTo,ek;var ep=bk(ej.display,ej.doc,eo);for(;;){if(!cd(ej,em,ep,en)){break}en=false;ek=true;aZ(ej);dl(ej);if(eo){eo=Math.min(ej.display.scroller.scrollHeight-ej.display.scroller.clientHeight,typeof eo=="number"?eo:eo.top)}ep=bk(ej.display,ej.doc,eo);if(ep.from>=ej.display.showingFrom&&ep.to<=ej.display.showingTo){break}em=[]}if(ek){M(ej,"update",ej);if(ej.display.showingFrom!=el||ej.display.showingTo!=eq){M(ej,"viewportChange",ej,ej.display.showingFrom,ej.display.showingTo)}}return ek}function cd(en,eB,ek,ez){var et=en.display,eC=en.doc;if(!et.wrapper.clientWidth){et.showingFrom=et.showingTo=eC.first;et.viewOffset=0;return}if(!ez&&eB.length==0&&ek.from>et.showingFrom&&ek.to<et.showingTo){return}if(cG(en)){eB=[{from:eC.first,to:eC.first+eC.size}]}var ey=et.sizer.style.marginLeft=et.gutters.offsetWidth+"px";et.scrollbarH.style.left=en.options.fixedGutter?ey:"0";var el=Infinity;if(en.options.lineNumbers){for(var eu=0;eu<eB.length;++eu){if(eB[eu].diff&&eB[eu].from<el){el=eB[eu].from}}}var em=eC.first+eC.size;var es=Math.max(ek.from-en.options.viewportMargin,eC.first);var ej=Math.min(em,ek.to+en.options.viewportMargin);if(et.showingFrom<es&&es-et.showingFrom<20){es=Math.max(eC.first,et.showingFrom)}if(et.showingTo>ej&&et.showingTo-ej<20){ej=Math.min(em,et.showingTo)}if(az){es=a9(t(eC,dx(eC,es)));while(ej<em&&dN(eC,dx(eC,ej))){++ej}}var ew=[{from:Math.max(et.showingFrom,eC.first),to:Math.min(et.showingTo,em)}];if(ew[0].from>=ew[0].to){ew=[]}else{ew=dH(ew,eB)}if(az){for(var eu=0;eu<ew.length;++eu){var ep=ew[eu],ex;while(ex=cY(dx(eC,ep.to-1))){var eA=ex.find().from.line;if(eA>ep.from){ep.to=eA}else{ew.splice(eu--,1);break}}}}var er=0;for(var eu=0;eu<ew.length;++eu){var ep=ew[eu];if(ep.from<es){ep.from=es}if(ep.to>ej){ep.to=ej}if(ep.from>=ep.to){ew.splice(eu--,1)}else{er+=ep.to-ep.from}}if(!ez&&er==ej-es&&es==et.showingFrom&&ej==et.showingTo){h(en);return}ew.sort(function(eE,eD){return eE.from-eD.from});try{var eo=document.activeElement}catch(ev){}if(er<(ej-es)*0.7){et.lineDiv.style.display="none"}bA(en,es,ej,ew,el);et.lineDiv.style.display="";if(eo&&document.activeElement!=eo&&eo.offsetHeight){eo.focus()}var eq=es!=et.showingFrom||ej!=et.showingTo||et.lastSizeC!=et.wrapper.clientHeight;if(eq){et.lastSizeC=et.wrapper.clientHeight;cO(en,400)}et.showingFrom=es;et.showingTo=ej;aB(en);h(en);return true}function aB(er){var eo=er.display;var ek=eo.lineDiv.offsetTop;for(var ej=eo.lineDiv.firstChild,es;ej;ej=ej.nextSibling){if(ej.lineObj){if(bz){var en=ej.offsetTop+ej.offsetHeight;es=en-ek;ek=en}else{var em=al(ej);es=em.bottom-em.top}var eq=ej.lineObj.height-es;if(es<2){es=au(eo)}if(eq>0.001||eq<-0.001){eb(ej.lineObj,es);var ep=ej.lineObj.widgets;if(ep){for(var el=0;el<ep.length;++el){ep[el].height=ep[el].node.offsetHeight}}}}}}function h(ej){var ek=ej.display.viewOffset=a8(ej,dx(ej.doc,ej.display.showingFrom));ej.display.mover.style.top=ek+"px"}function dH(es,eq){for(var en=0,el=eq.length||0;en<el;++en){var ep=eq[en],ej=[],er=ep.diff||0;for(var em=0,ek=es.length;em<ek;++em){var eo=es[em];if(ep.to<=eo.from&&ep.diff){ej.push({from:eo.from+er,to:eo.to+er})}else{if(ep.to<=eo.from||ep.from>=eo.to){ej.push(eo)}else{if(ep.from>eo.from){ej.push({from:eo.from,to:ep.from})}if(ep.to<eo.to){ej.push({from:ep.to+er,to:eo.to+er})}}}}es=ej}return es}function dv(ej){var en=ej.display,em={},el={};for(var eo=en.gutters.firstChild,ek=0;eo;eo=eo.nextSibling,++ek){em[ej.options.gutters[ek]]=eo.offsetLeft;el[ej.options.gutters[ek]]=eo.offsetWidth}return{fixedPos:cD(en),gutterTotalWidth:en.gutters.offsetWidth,gutterLeft:em,gutterWidth:el,wrapperWidth:en.wrapper.clientWidth}}function bA(es,ep,eq,ev,ek){var er=dv(es);var eo=es.display,eu=es.options.lineNumbers;if(!ev.length&&(!b2||!es.display.currentWheelTarget)){cE(eo.lineDiv)}var ej=eo.lineDiv,et=ej.firstChild;function en(ex){var ew=ex.nextSibling;if(b2&&bl&&es.display.currentWheelTarget==ex){ex.style.display="none";ex.lineObj=null}else{ex.parentNode.removeChild(ex)}return ew}var el=ev.shift(),em=ep;es.doc.iter(ep,eq,function(eF){if(el&&el.to==em){el=ev.shift()}if(dN(es.doc,eF)){if(eF.height!=0){eb(eF,0)}if(eF.widgets&&et&&et.previousSibling){for(var eA=0;eA<eF.widgets.length;++eA){var eC=eF.widgets[eA];if(eC.showIfHidden){var ey=et.previousSibling;if(/pre/i.test(ey.nodeName)){var ex=d7("div",null,null,"position: relative");ey.parentNode.replaceChild(ex,ey);ex.appendChild(ey);ey=ex}var eD=ey.appendChild(d7("div",[eC.node],"CodeMirror-linewidget"));if(!eC.handleMouseEvents){eD.ignoreEvents=true}a1(eC,eD,ey,er)}}}}else{if(el&&el.from<=em&&el.to>em){while(et.lineObj!=eF){et=en(et)}if(eu&&ek<=em&&et.lineNumber){n(et.lineNumber,cW(es.options,em))}et=et.nextSibling}else{if(eF.widgets){for(var ez=0,eE=et,eB;eE&&ez<20;++ez,eE=eE.nextSibling){if(eE.lineObj==eF&&/div/i.test(eE.nodeName)){eB=eE;break}}}var ew=ag(es,eF,em,er,eB);if(ew!=eB){ej.insertBefore(ew,et)}else{while(et!=eB){et=en(et)}et=et.nextSibling}ew.lineObj=eF}}++em});while(et){et=en(et)}}function ag(eo,eq,er,eu,ek){var eA=cy(eo,eq);var eD=eq.gutterMarkers,eB=eo.display,ep;if(!eo.options.lineNumbers&&!eD&&!eq.bgClass&&!eq.wrapClass&&!eq.widgets){return eA}if(ek){ek.alignable=null;var eE=true,em=0,el=null;for(var ew=ek.firstChild,ev;ew;ew=ev){ev=ew.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(ew.className)){ek.removeChild(ew)}else{for(var eC=0;eC<eq.widgets.length;++eC){var en=eq.widgets[eC];if(en.node==ew.firstChild){if(!en.above&&!el){el=ew}a1(en,ew,ek,eu);++em;break}}if(eC==eq.widgets.length){eE=false;break}}}ek.insertBefore(eA,el);if(eE&&em==eq.widgets.length){ep=ek;ek.className=eq.wrapClass||""}}if(!ep){ep=d7("div",null,eq.wrapClass,"position: relative");ep.appendChild(eA)}if(eq.bgClass){ep.insertBefore(d7("div",null,eq.bgClass+" CodeMirror-linebackground"),ep.firstChild)}if(eo.options.lineNumbers||eD){var ey=ep.insertBefore(d7("div",null,null,"position: absolute; left: "+(eo.options.fixedGutter?eu.fixedPos:-eu.gutterTotalWidth)+"px"),ep.firstChild);if(eo.options.fixedGutter){(ep.alignable||(ep.alignable=[])).push(ey)}if(eo.options.lineNumbers&&(!eD||!eD["CodeMirror-linenumbers"])){ep.lineNumber=ey.appendChild(d7("div",cW(eo.options,er),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+eu.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+eB.lineNumInnerWidth+"px"))}if(eD){for(var ez=0;ez<eo.options.gutters.length;++ez){var et=eo.options.gutters[ez],es=eD.hasOwnProperty(et)&&eD[et];if(es){ey.appendChild(d7("div",[es],"CodeMirror-gutter-elt","left: "+eu.gutterLeft[et]+"px; width: "+eu.gutterWidth[et]+"px"))}}}}if(bz){ep.style.zIndex=2}if(eq.widgets&&ep!=ek){for(var eC=0,ej=eq.widgets;eC<ej.length;++eC){var en=ej[eC],ex=d7("div",[en.node],"CodeMirror-linewidget");if(!en.handleMouseEvents){ex.ignoreEvents=true}a1(en,ex,ep,eu);if(en.above){ep.insertBefore(ex,eo.options.lineNumbers&&eq.height!=0?ey:eA)}else{ep.appendChild(ex)}M(en,"redraw")}}return ep}function a1(em,el,ek,en){if(em.noHScroll){(ek.alignable||(ek.alignable=[])).push(el);var ej=en.wrapperWidth;el.style.left=en.fixedPos+"px";if(!em.coverGutter){ej-=en.gutterTotalWidth;el.style.paddingLeft=en.gutterTotalWidth+"px"}el.style.width=ej+"px"}if(em.coverGutter){el.style.zIndex=5;el.style.position="relative";if(!em.noHScroll){el.style.marginLeft=-en.gutterTotalWidth+"px"}}}function aZ(ej){var em=ej.display;var en=dW(ej.doc.sel.from,ej.doc.sel.to);if(en||ej.options.showCursorWhenSelecting){A(ej)}else{em.cursor.style.display=em.otherCursor.style.display="none"}if(!en){T(ej)}else{em.selectionDiv.style.display="none"}if(ej.options.moveInputWithCursor){var eo=cB(ej,ej.doc.sel.head,"div");var ek=al(em.wrapper),el=al(em.lineDiv);em.inputDiv.style.top=Math.max(0,Math.min(em.wrapper.clientHeight-10,eo.top+el.top-ek.top))+"px";em.inputDiv.style.left=Math.max(0,Math.min(em.wrapper.clientWidth-10,eo.left+el.left-ek.left))+"px"}}function A(ej){var ek=ej.display,el=cB(ej,ej.doc.sel.head,"div");ek.cursor.style.left=el.left+"px";ek.cursor.style.top=el.top+"px";ek.cursor.style.height=Math.max(0,el.bottom-el.top)*ej.options.cursorHeight+"px";ek.cursor.style.display="";if(el.other){ek.otherCursor.style.display="";ek.otherCursor.style.left=el.other.left+"px";ek.otherCursor.style.top=el.other.top+"px";ek.otherCursor.style.height=(el.other.bottom-el.other.top)*0.85+"px"}else{ek.otherCursor.style.display="none"}}function T(eu){var ep=eu.display,et=eu.doc,ej=eu.doc.sel;var en=document.createDocumentFragment();var es=ep.lineSpace.offsetWidth,el=at(eu.display);function ew(eA,ez,ey,ex){if(ez<0){ez=0}en.appendChild(d7("div",null,"CodeMirror-selected","position: absolute; left: "+eA+"px; top: "+ez+"px; width: "+(ey==null?es-eA:ey)+"px; height: "+(ex-ez)+"px"))}function er(ey,eA,eD){var ez=dx(et,ey);var eB=ez.text.length;var eE,ex;function eC(eG,eF){return bT(eu,I(ey,eG),"div",ez,eF)}cF(a(ez),eA||0,eD==null?eB:eD,function(eM,eL,eF){var eI=eC(eM,"left"),eJ,eK,eH;if(eM==eL){eJ=eI;eK=eH=eI.left}else{eJ=eC(eL-1,"right");if(eF=="rtl"){var eG=eI;eI=eJ;eJ=eG}eK=eI.left;eH=eJ.right}if(eA==null&&eM==0){eK=el}if(eJ.top-eI.top>3){ew(eK,eI.top,null,eI.bottom);eK=el;if(eI.bottom<eJ.top){ew(eK,eI.bottom,null,eJ.top)}}if(eD==null&&eL==eB){eH=es}if(!eE||eI.top<eE.top||eI.top==eE.top&&eI.left<eE.left){eE=eI}if(!ex||eJ.bottom>ex.bottom||eJ.bottom==ex.bottom&&eJ.right>ex.right){ex=eJ}if(eK<el+1){eK=el}ew(eK,eJ.top,eH-eK,eJ.bottom)});return{start:eE,end:ex}}if(ej.from.line==ej.to.line){er(ej.from.line,ej.from.ch,ej.to.ch)}else{var em=dx(et,ej.from.line),ek=dx(et,ej.to.line);var eo=t(et,em)==t(et,ek);var ev=er(ej.from.line,ej.from.ch,eo?em.text.length:null).end;var eq=er(ej.to.line,eo?0:null,ej.to.ch).start;if(eo){if(ev.top<eq.top-2){ew(ev.right,ev.top,null,ev.bottom);ew(el,eq.top,eq.left,eq.bottom)}else{ew(ev.right,ev.top,eq.left-ev.right,ev.bottom)}}if(ev.bottom<eq.top){ew(el,ev.bottom,null,eq.top)}}bd(ep.selectionDiv,en);ep.selectionDiv.style.display=""}function l(ej){if(!ej.state.focused){return}var el=ej.display;clearInterval(el.blinker);var ek=true;el.cursor.style.visibility=el.otherCursor.style.visibility="";if(ej.options.cursorBlinkRate>0){el.blinker=setInterval(function(){el.cursor.style.visibility=el.otherCursor.style.visibility=(ek=!ek)?"":"hidden"},ej.options.cursorBlinkRate)}}function cO(ej,ek){if(ej.doc.mode.startState&&ej.doc.frontier<ej.display.showingTo){ej.state.highlight.set(ek,bI(bX,ej))}}function bX(ej){var em=ej.doc;if(em.frontier<em.first){em.frontier=em.first}if(em.frontier>=ej.display.showingTo){return}var ek=+new Date+ej.options.workTime;var el=bj(em.mode,cq(ej,em.frontier));var eo=[],en;em.iter(em.frontier,Math.min(em.first+em.size,ej.display.showingTo+500),function(ep){if(em.frontier>=ej.display.showingFrom){var er=ep.styles;ep.styles=dS(ej,ep,el);var es=!er||er.length!=ep.styles.length;for(var eq=0;!es&&eq<er.length;++eq){es=er[eq]!=ep.styles[eq]}if(es){if(en&&en.end==em.frontier){en.end++}else{eo.push(en={start:em.frontier,end:em.frontier+1})}}ep.stateAfter=bj(em.mode,el)}else{co(ej,ep,el);ep.stateAfter=em.frontier%5==0?bj(em.mode,el):null}++em.frontier;if(+new Date>ek){cO(ej,ej.options.workDelay);return true}});if(eo.length){b3(ej,function(){for(var ep=0;ep<eo.length;++ep){O(this,eo[ep].start,eo[ep].end)}})()}}function bK(eq,ek,em){var el,en,eo=eq.doc,ep=eq.doc.mode.innerMode?1000:100;for(var et=ek,ej=ek-ep;et>ej;--et){if(et<=eo.first){return eo.first}var es=dx(eo,et-1);if(es.stateAfter&&(!em||et<=eo.frontier)){return et}var er=bc(es.text,null,eq.options.tabSize);if(en==null||el>er){en=et-1;el=er}}return en}function cq(ej,ep,ek){var en=ej.doc,em=ej.display;if(!en.mode.startState){return true}var eo=bK(ej,ep,ek),el=eo>en.first&&dx(en,eo-1).stateAfter;if(!el){el=bi(en.mode)}else{el=bj(en.mode,el)}en.iter(eo,ep,function(eq){co(ej,eq,el);var er=eo==ep-1||eo%5==0||eo>=em.showingFrom&&eo<em.showingTo;eq.stateAfter=er?bj(en.mode,el):null;++eo});return el}function ds(ej){return ej.lineSpace.offsetTop}function a4(ej){return ej.mover.offsetHeight-ej.lineSpace.offsetHeight}function at(ek){var ej=bd(ek.measure,d7("pre",null,null,"text-align: left")).appendChild(d7("span","x"));return ej.offsetLeft}function cQ(ej,ek,en,ep,el){var em=-1;ep=ep||a5(ej,ek);for(var eq=en;;eq+=em){var eo=ep[eq];if(eo){break}if(em<0&&eq==0){em=1}}el=eq>en?"left":eq<en?"right":el;if(el=="left"&&eo.leftSide){eo=eo.leftSide}else{if(el=="right"&&eo.rightSide){eo=eo.rightSide}}return{left:eq<en?eo.right:eo.left,right:eq>en?eo.left:eo.right,top:eo.top,bottom:eo.bottom}}function dr(ej,ek){var em=ej.display.measureLineCache;for(var en=0;en<em.length;++en){var el=em[en];if(el.text==ek.text&&el.markedSpans==ek.markedSpans&&ej.display.scroller.clientWidth==el.width&&el.classes==ek.textClass+"|"+ek.bgClass+"|"+ek.wrapClass){return el}}}function d0(ej,ek){var el=dr(ej,ek);if(el){el.text=el.measure=el.markedSpans=null}}function a5(ej,ek){var eo=dr(ej,ek);if(eo){return eo.measure}var en=cc(ej,ek);var em=ej.display.measureLineCache;var el={text:ek.text,width:ej.display.scroller.clientWidth,markedSpans:ek.markedSpans,measure:en,classes:ek.textClass+"|"+ek.bgClass+"|"+ek.wrapClass};if(em.length==16){em[++ej.display.measureLineCachePos%16]=el}else{em.push(el)}return en}function cc(eq,es){var ey=eq.display,eo=S(es.text.length);var ev=cy(eq,es,eo,true);if(cu&&!bz&&!eq.options.lineWrapping&&ev.childNodes.length>100){var el=document.createDocumentFragment();var et=10,ew=ev.childNodes.length;for(var eA=0,eu=Math.ceil(ew/et);eA<eu;++eA){var er=d7("div",null,null,"display: inline-block");for(var ez=0;ez<et&&ew;++ez){er.appendChild(ev.firstChild);--ew}el.appendChild(er)}ev.appendChild(el)}bd(ey.measure,ev);var ek=al(ey.lineDiv);var ej=[],eD=S(es.text.length),eC=ev.offsetHeight;if(by&&ey.measure.first!=ev){bd(ey.measure,ev)}function eB(eG){var eI=eG.top-ek.top,eK=eG.bottom-ek.top;if(eK>eC){eK=eC}if(eI<0){eI=0}for(var eF=ej.length-2;eF>=0;eF-=2){var eH=ej[eF],eJ=ej[eF+1];if(eH>eK||eJ<eI){continue}if(eH<=eI&&eJ>=eK||eI<=eH&&eK>=eJ||Math.min(eK,eJ)-Math.max(eI,eH)>=(eK-eI)>>1){ej[eF]=Math.min(eI,eH);ej[eF+1]=Math.max(eK,eJ);break}}if(eF<0){eF=ej.length;ej.push(eI,eK)}return{left:eG.left-ek.left,right:eG.right-ek.left,top:eF,bottom:null}}function eE(eF){eF.bottom=ej[eF.top+1];eF.top=ej[eF.top]}for(var eA=0,en;eA<eo.length;++eA){if(en=eo[eA]){var ex=en,em=null;if(/\bCodeMirror-widget\b/.test(en.className)&&en.getClientRects){if(en.firstChild.nodeType==1){ex=en.firstChild}var ep=ex.getClientRects();if(ep.length>1){em=eD[eA]=eB(ep[0]);em.rightSide=eB(ep[ep.length-1])}}if(!em){em=eD[eA]=eB(al(ex))}if(en.measureRight){em.right=al(en.measureRight).left}if(en.leftSide){em.leftSide=eB(al(en.leftSide))}}}cE(eq.display.measure);for(var eA=0,en;eA<eD.length;++eA){if(en=eD[eA]){eE(en);if(en.leftSide){eE(en.leftSide)}if(en.rightSide){eE(en.rightSide)}}}return eD}function c9(ej,el){var eq=false;if(el.markedSpans){for(var em=0;em<el.markedSpans;++em){var eo=el.markedSpans[em];if(eo.collapsed&&(eo.to==null||eo.to==el.text.length)){eq=true}}}var en=!eq&&dr(ej,el);if(en){return cQ(ej,el,el.text.length,en.measure,"right").right}var ep=cy(ej,el,null,true);var ek=ep.appendChild(aO(ej.display.measure));bd(ej.display.measure,ep);return al(ek).right-al(ej.display.lineDiv).left}function R(ej){ej.display.measureLineCache.length=ej.display.measureLineCachePos=0;ej.display.cachedCharWidth=ej.display.cachedTextHeight=null;if(!ej.options.lineWrapping){ej.display.maxLineChanged=true}ej.display.lineNumChars=null}function bH(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function bG(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function dg(ep,em,eo,ek){if(em.widgets){for(var el=0;el<em.widgets.length;++el){if(em.widgets[el].above){var er=b0(em.widgets[el]);eo.top+=er;eo.bottom+=er}}}if(ek=="line"){return eo}if(!ek){ek="local"}var en=a8(ep,em);if(ek=="local"){en+=ds(ep.display)}else{en-=ep.display.viewOffset}if(ek=="page"||ek=="window"){var ej=al(ep.display.lineSpace);en+=ej.top+(ek=="window"?0:bG());var eq=ej.left+(ek=="window"?0:bH());eo.left+=eq;eo.right+=eq}eo.top+=en;eo.bottom+=en;return eo}function ef(ek,en,el){if(el=="div"){return en}var ep=en.left,eo=en.top;if(el=="page"){ep-=bH();eo-=bG()}else{if(el=="local"||!el){var em=al(ek.display.sizer);ep+=em.left;eo+=em.top}}var ej=al(ek.display.lineSpace);return{left:ep-ej.left,top:eo-ej.top}}function bT(ej,en,em,el,ek){if(!el){el=dx(ej.doc,en.line)}return dg(ej,el,cQ(ej,el,en.ch,null,ek),em)}function cB(es,er,el,eq,eo){eq=eq||dx(es.doc,er.line);if(!eo){eo=a5(es,eq)}function en(ew,ev){var eu=cQ(es,eq,ew,eo,ev?"right":"left");if(ev){eu.left=eu.right}else{eu.right=eu.left}return dg(es,eq,eu,el)}function et(ex,eu){var ev=ep[eu],ew=ev.level%2;if(ex==cp(ev)&&eu&&ev.level<ep[eu-1].level){ev=ep[--eu];ex=ee(ev)-(ev.level%2?0:1);ew=true}else{if(ex==ee(ev)&&eu<ep.length-1&&ev.level<ep[eu+1].level){ev=ep[++eu];ex=cp(ev)-ev.level%2;ew=false}}if(ew&&ex==ev.to&&ex>ev.from){return en(ex-1)}return en(ex,ew)}var ep=a(eq),ej=er.ch;if(!ep){return en(ej)}var ek=ah(ep,ej);var em=et(ej,ek);if(dp!=null){em.other=et(ej,dp)}return em}function d6(ej,ek,el,en){var em=new I(ej,ek);em.xRel=en;if(el){em.outside=true}return em}function d1(eq,en,em){var ep=eq.doc;em+=eq.display.viewOffset;if(em<0){return d6(ep.first,0,true,-1)}var ek=a2(ep,em),er=ep.first+ep.size-1;if(ek>er){return d6(ep.first+ep.size-1,dx(ep,er).text.length,true,1)}if(en<0){en=0}for(;;){var el=dx(ep,ek);var es=b1(eq,el,ek,en,em);var eo=cY(el);var ej=eo&&eo.find();if(eo&&(es.ch>ej.from.ch||es.ch==ej.from.ch&&es.xRel>0)){ek=ej.to.line}else{return es}}}function b1(et,el,ew,ev,eu){var es=eu-a8(et,el);var ep=false,eC=2*et.display.wrapper.clientWidth;var eB=a5(et,el);function eG(eI){var eJ=cB(et,I(ew,eI),"line",el,eB);ep=true;if(es>eJ.bottom){return eJ.left-eC}else{if(es<eJ.top){return eJ.left+eC}else{ep=false}}return eJ.left}var ey=a(el),eA=el.text.length;var eD=bO(el),em=bY(el);var ez=eG(eD),ej=ep,ek=eG(em),eo=ep;if(ev>ek){return d6(ew,em,eo,1)}for(;;){if(ey?em==eD||em==q(el,eD,1):em-eD<=1){var ex=ev<ez||ev-ez<=ek-ev?eD:em;var eF=ev-(ex==eD?ez:ek);while(dJ.test(el.text.charAt(ex))){++ex}var er=d6(ew,ex,ex==eD?ej:eo,eF<0?-1:eF?1:0);return er}var eq=Math.ceil(eA/2),eH=eD+eq;if(ey){eH=eD;for(var eE=0;eE<eq;++eE){eH=q(el,eH,1)}}var en=eG(eH);if(en>ev){em=eH;ek=en;if(eo=ep){ek+=1000}eA=eq}else{eD=eH;ez=en;ej=ep;eA-=eq}}}var ai;function au(el){if(el.cachedTextHeight!=null){return el.cachedTextHeight}if(ai==null){ai=d7("pre");for(var ek=0;ek<49;++ek){ai.appendChild(document.createTextNode("x"));ai.appendChild(d7("br"))}ai.appendChild(document.createTextNode("x"))}bd(el.measure,ai);var ej=ai.offsetHeight/50;if(ej>3){el.cachedTextHeight=ej}cE(el.measure);return ej||1}function cs(em){if(em.cachedCharWidth!=null){return em.cachedCharWidth}var ej=d7("span","x");var el=d7("pre",[ej]);bd(em.measure,el);var ek=ej.offsetWidth;if(ek>2){em.cachedCharWidth=ek}return ek||10}var cI=0;function bS(ej){ej.curOp={changes:[],forceUpdate:false,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cI};if(!bF++){aP=[]}}function U(ev){var eq=ev.curOp,eu=ev.doc,er=ev.display;ev.curOp=null;if(eq.updateMaxLine){d9(ev)}if(er.maxLineChanged&&!ev.options.lineWrapping&&er.maxLine){var ek=c9(ev,er.maxLine);er.sizer.style.minWidth=Math.max(0,ek+3+aK)+"px";er.maxLineChanged=false;var es=Math.max(0,er.sizer.offsetLeft+er.sizer.offsetWidth-er.scroller.clientWidth);if(es<eu.scrollLeft&&!eq.updateScrollPos){a0(ev,Math.min(er.scroller.scrollLeft,es),true)}}var el,eo;if(eq.updateScrollPos){el=eq.updateScrollPos}else{if(eq.selectionChanged&&er.scroller.clientHeight){var et=cB(ev,eu.sel.head);el=y(ev,et.left,et.top,et.left,et.bottom)}}if(eq.changes.length||eq.forceUpdate||el&&el.scrollTop!=null){eo=cv(ev,eq.changes,el&&el.scrollTop,eq.forceUpdate);if(ev.display.scroller.offsetHeight){ev.doc.scrollTop=ev.display.scroller.scrollTop}}if(!eo&&eq.selectionChanged){aZ(ev)}if(eq.updateScrollPos){er.scroller.scrollTop=er.scrollbarV.scrollTop=eu.scrollTop=el.scrollTop;er.scroller.scrollLeft=er.scrollbarH.scrollLeft=eu.scrollLeft=el.scrollLeft;c8(ev);if(eq.scrollToPos){v(ev,dX(ev.doc,eq.scrollToPos),eq.scrollToPosMargin)}}else{if(el){ac(ev)}}if(eq.selectionChanged){l(ev)}if(ev.state.focused&&eq.updateInput){dI(ev,eq.userSelChange)}var ep=eq.maybeHiddenMarkers,ej=eq.maybeUnhiddenMarkers;if(ep){for(var en=0;en<ep.length;++en){if(!ep[en].lines.length){af(ep[en],"hide")}}}if(ej){for(var en=0;en<ej.length;++en){if(ej[en].lines.length){af(ej[en],"unhide")}}}var em;if(!--bF){em=aP;aP=null}if(eq.textChanged){af(ev,"change",ev,eq.textChanged)}if(eq.cursorActivity){af(ev,"cursorActivity",ev)}if(em){for(var en=0;en<em.length;++en){em[en]()}}}function b3(ej,ek){return function(){var em=ej||this,en=!em.curOp;if(en){bS(em)}try{var el=ek.apply(em,arguments)}finally{if(en){U(em)}}return el}}function dR(ej){return function(){var el=this.cm&&!this.cm.curOp,ek;if(el){bS(this.cm)}try{ek=ej.apply(this,arguments)}finally{if(el){U(this.cm)}}return ek}}function bV(ek,em){var el=!ek.curOp,ej;if(el){bS(ek)}try{ej=em()}finally{if(el){U(ek)}}return ej}function O(ej,em,el,ek){if(em==null){em=ej.doc.first}if(el==null){el=ej.doc.first+ej.doc.size}ej.curOp.changes.push({from:em,to:el,diff:ek})}function aN(ej){if(ej.display.pollingFast){return}ej.display.poll.set(ej.options.pollInterval,function(){bv(ej);if(ej.state.focused){aN(ej)}})}function u(ej){var ek=false;ej.display.pollingFast=true;function el(){var em=bv(ej);if(!em&&!ek){ek=true;ej.display.poll.set(60,el)}else{ej.display.pollingFast=false;aN(ej)}}ej.display.poll.set(20,el)}function bv(eu){var ep=eu.display.input,em=eu.display.prevInput,et=eu.doc,ej=et.sel;if(!eu.state.focused||aT(ep)||Q(eu)||eu.state.disableInput){return false}if(eu.state.pasteIncoming&&eu.state.fakedLastChar){ep.value=ep.value.substring(0,ep.value.length-1);eu.state.fakedLastChar=false}var ev=ep.value;if(ev==em&&dW(ej.from,ej.to)){return false}if(cu&&!by&&eu.display.inputHasSelection===ev){dI(eu,true);return false}var el=!eu.curOp;if(el){bS(eu)}ej.shift=false;var eo=0,ek=Math.min(em.length,ev.length);while(eo<ek&&em.charCodeAt(eo)==ev.charCodeAt(eo)){++eo}var es=ej.from,er=ej.to;if(eo<em.length){es=I(es.line,es.ch-(em.length-eo))}else{if(eu.state.overwrite&&dW(es,er)&&!eu.state.pasteIncoming){er=I(er.line,Math.min(dx(et,er.line).text.length,er.ch+(ev.length-eo)))}}var en=eu.curOp.updateInput;var eq={from:es,to:er,text:aw(ev.slice(eo)),origin:eu.state.pasteIncoming?"paste":"+input"};aH(eu.doc,eq,"end");eu.curOp.updateInput=en;M(eu,"inputRead",eu,eq);if(ev.length>1000||ev.indexOf("\n")>-1){ep.value=eu.display.prevInput=""}else{eu.display.prevInput=ev}if(el){U(eu)}eu.state.pasteIncoming=false;return true}function dI(ej,el){var ek,em,eo=ej.doc;if(!dW(eo.sel.from,eo.sel.to)){ej.display.prevInput="";ek=b9&&(eo.sel.to.line-eo.sel.from.line>100||(em=ej.getSelection()).length>1000);var en=ek?"-":em||ej.getSelection();ej.display.input.value=en;if(ej.state.focused){cw(ej.display.input)}if(cu&&!by){ej.display.inputHasSelection=en}}else{if(el){ej.display.prevInput=ej.display.input.value="";if(cu&&!by){ej.display.inputHasSelection=null}}}ej.display.inaccurateSelection=ek}function c4(ej){if(ej.options.readOnly!="nocursor"&&(!cP||document.activeElement!=ej.display.input)){ej.display.input.focus()}}function Q(ej){return ej.options.readOnly||ej.doc.cantEdit}function d2(ek){var ep=ek.display;bg(ep.scroller,"mousedown",b3(ek,cX));if(cu){bg(ep.scroller,"dblclick",b3(ek,function(es){if(ap(ek,es)){return}var et=bB(ek,es);if(!et||k(ek,es)||aC(ek.display,es)){return}bP(es);var er=Z(dx(ek.doc,et.line).text,et);d4(ek.doc,er.from,er.to)}))}else{bg(ep.scroller,"dblclick",function(er){ap(ek,er)||bP(er)})}bg(ep.lineSpace,"selectstart",function(er){if(!aC(ep,er)){bP(er)}});if(!bR){bg(ep.scroller,"contextmenu",function(er){ab(ek,er)})}bg(ep.scroller,"scroll",function(){if(ep.scroller.clientHeight){D(ek,ep.scroller.scrollTop);a0(ek,ep.scroller.scrollLeft,true);af(ek,"scroll",ek)}});bg(ep.scrollbarV,"scroll",function(){if(ep.scroller.clientHeight){D(ek,ep.scrollbarV.scrollTop)}});bg(ep.scrollbarH,"scroll",function(){if(ep.scroller.clientHeight){a0(ek,ep.scrollbarH.scrollLeft)}});bg(ep.scroller,"mousewheel",function(er){b(ek,er)});bg(ep.scroller,"DOMMouseScroll",function(er){b(ek,er)});function eq(){if(ek.state.focused){setTimeout(bI(c4,ek),0)}}bg(ep.scrollbarH,"mousedown",eq);bg(ep.scrollbarV,"mousedown",eq);bg(ep.wrapper,"scroll",function(){ep.wrapper.scrollTop=ep.wrapper.scrollLeft=0});var ej;function en(){if(ej==null){ej=setTimeout(function(){ej=null;ep.cachedCharWidth=ep.cachedTextHeight=cZ=null;R(ek);bV(ek,bI(O,ek))},100)}}bg(window,"resize",en);function em(){for(var er=ep.wrapper.parentNode;er&&er!=document.body;er=er.parentNode){}if(er){setTimeout(em,5000)}else{cN(window,"resize",en)}}setTimeout(em,5000);bg(ep.input,"keyup",b3(ek,function(er){if(ap(ek,er)||ek.options.onKeyEvent&&ek.options.onKeyEvent(ek,W(er))){return}if(er.keyCode==16){ek.doc.sel.shift=false}}));bg(ep.input,"input",bI(u,ek));bg(ep.input,"keydown",b3(ek,m));bg(ep.input,"keypress",b3(ek,bJ));bg(ep.input,"focus",bI(bM,ek));bg(ep.input,"blur",bI(ar,ek));function el(er){if(ap(ek,er)||ek.options.onDragEvent&&ek.options.onDragEvent(ek,W(er))){return}cV(er)}if(ek.options.dragDrop){bg(ep.scroller,"dragstart",function(er){G(ek,er)});bg(ep.scroller,"dragenter",el);bg(ep.scroller,"dragover",el);bg(ep.scroller,"drop",b3(ek,aJ))}bg(ep.scroller,"paste",function(er){if(aC(ep,er)){return}c4(ek);u(ek)});bg(ep.input,"paste",function(){if(b2&&!ek.state.fakedLastChar&&!(new Date-ek.state.lastMiddleDown<200)){var es=ep.input.selectionStart,er=ep.input.selectionEnd;ep.input.value+="$";ep.input.selectionStart=es;ep.input.selectionEnd=er;ek.state.fakedLastChar=true}ek.state.pasteIncoming=true;u(ek)});function eo(){if(ep.inaccurateSelection){ep.prevInput="";ep.inaccurateSelection=false;ep.input.value=ek.getSelection();cw(ep.input)}}bg(ep.input,"cut",eo);bg(ep.input,"copy",eo);if(aD){bg(ep.sizer,"mouseup",function(){if(document.activeElement==ep.input){ep.input.blur()}c4(ek)})}}function aC(ek,ej){for(var el=B(ej);el!=ek.wrapper;el=el.parentNode){if(!el||el.ignoreEvents||el.parentNode==ek.sizer&&el!=ek.mover){return true}}}function bB(ek,ep,em){var eo=ek.display;if(!em){var en=B(ep);if(en==eo.scrollbarH||en==eo.scrollbarH.firstChild||en==eo.scrollbarV||en==eo.scrollbarV.firstChild||en==eo.scrollbarFiller||en==eo.gutterFiller){return null}}var ej,eq,el=al(eo.lineSpace);try{ej=ep.clientX;eq=ep.clientY}catch(ep){return null}return d1(ek,ej-el.left,eq-el.top)}var ch,cb;function cX(eB){if(ap(this,eB)){return}var em=this,ew=em.display,eD=em.doc,eu=eD.sel;eu.shift=eB.shiftKey;if(aC(ew,eB)){if(!b2){ew.scroller.draggable=false;setTimeout(function(){ew.scroller.draggable=true},100)}return}if(k(em,eB)){return}var el=bB(em,eB);switch(dZ(eB)){case 3:if(bR){ab.call(em,em,eB)}return;case 2:if(b2){em.state.lastMiddleDown=+new Date}if(el){d4(em.doc,el)}setTimeout(bI(c4,em),20);bP(eB);return}if(!el){if(B(eB)==ew.scroller){bP(eB)}return}if(!em.state.focused){bM(em)}var ej=+new Date,ek="single";if(cb&&cb.time>ej-400&&dW(cb.pos,el)){ek="triple";bP(eB);setTimeout(bI(c4,em),20);aM(em,el.line)}else{if(ch&&ch.time>ej-400&&dW(ch.pos,el)){ek="double";cb={time:ej,pos:el};bP(eB);var ey=Z(dx(eD,el.line).text,el);d4(em.doc,ey.from,ey.to)}else{ch={time:ej,pos:el}}}var en=el;if(em.options.dragDrop&&de&&!Q(em)&&!dW(eu.from,eu.to)&&!dy(el,eu.from)&&!dy(eu.to,el)&&ek=="single"){var ex=b3(em,function(eE){if(b2){ew.scroller.draggable=false}em.state.draggingText=false;cN(document,"mouseup",ex);cN(ew.scroller,"drop",ex);if(Math.abs(eB.clientX-eE.clientX)+Math.abs(eB.clientY-eE.clientY)<10){bP(eE);d4(em.doc,el);c4(em)}});if(b2){ew.scroller.draggable=true}em.state.draggingText=ex;if(ew.scroller.dragDrop){ew.scroller.dragDrop()}bg(document,"mouseup",ex);bg(ew.scroller,"drop",ex);return}bP(eB);if(ek=="single"){d4(em.doc,dX(eD,el))}var eC=eu.from,er=eu.to,ev=el;function ez(eF){if(dW(ev,eF)){return}ev=eF;if(ek=="single"){d4(em.doc,dX(eD,el),eF);return}eC=dX(eD,eC);er=dX(eD,er);if(ek=="double"){var eE=Z(dx(eD,eF.line).text,eF);if(dy(eF,eC)){d4(em.doc,eE.from,er)}else{d4(em.doc,eC,eE.to)}}else{if(ek=="triple"){if(dy(eF,eC)){d4(em.doc,er,dX(eD,I(eF.line,0)))}else{d4(em.doc,eC,dX(eD,I(eF.line+1,0)))}}}}var es=al(ew.wrapper);var eo=0;function eA(eG){var eE=++eo;var eI=bB(em,eG,true);if(!eI){return}if(!dW(eI,en)){if(!em.state.focused){bM(em)}en=eI;ez(eI);var eH=bk(ew,eD);if(eI.line>=eH.to||eI.line<eH.from){setTimeout(b3(em,function(){if(eo==eE){eA(eG)}}),150)}}else{var eF=eG.clientY<es.top?-20:eG.clientY>es.bottom?20:0;if(eF){setTimeout(b3(em,function(){if(eo!=eE){return}ew.scroller.scrollTop+=eF;eA(eG)}),50)}}}function eq(eE){eo=Infinity;bP(eE);c4(em);cN(document,"mousemove",et);cN(document,"mouseup",ep)}var et=b3(em,function(eE){if(!cu&&!dZ(eE)){eq(eE)}else{eA(eE)}});var ep=b3(em,eq);bg(document,"mousemove",et);bg(document,"mouseup",ep)}function eh(eu,eq,es,et,em){try{var ek=eq.clientX,ej=eq.clientY}catch(eq){return false}if(ek>=Math.floor(al(eu.display.gutters).right)){return false}if(et){bP(eq)}var er=eu.display;var ep=al(er.lineDiv);if(ej>ep.bottom||!dD(eu,es)){return a7(eq)}ej-=ep.top-er.viewOffset;for(var en=0;en<eu.options.gutters.length;++en){var eo=er.gutters.childNodes[en];if(eo&&al(eo).right>=ek){var ev=a2(eu.doc,ej);var el=eu.options.gutters[en];em(eu,es,eu,ev,el,eq);return a7(eq)}}}function ce(ej,ek){if(!dD(ej,"gutterContextMenu")){return false}return eh(ej,ek,"gutterContextMenu",false,af)}function k(ej,ek){return eh(ej,ek,"gutterClick",true,M)}var N=0;function aJ(ep){var er=this;if(ap(er,ep)||aC(er.display,ep)||(er.options.onDragEvent&&er.options.onDragEvent(er,W(ep)))){return}bP(ep);if(cu){N=+new Date}var eq=bB(er,ep,true),ej=ep.dataTransfer.files;if(!eq||Q(er)){return}if(ej&&ej.length&&window.FileReader&&window.File){var el=ej.length,et=Array(el),ek=0;var em=function(ew,ev){var eu=new FileReader;eu.onload=function(){et[ev]=eu.result;if(++ek==el){eq=dX(er.doc,eq);aH(er.doc,{from:eq,to:eq,text:aw(et.join("\n")),origin:"paste"},"around")}};eu.readAsText(ew)};for(var en=0;en<el;++en){em(ej[en],en)}}else{if(er.state.draggingText&&!(dy(eq,er.doc.sel.from)||dy(er.doc.sel.to,eq))){er.state.draggingText(ep);setTimeout(bI(c4,er),20);return}try{var et=ep.dataTransfer.getData("Text");if(et){var es=er.doc.sel.from,eo=er.doc.sel.to;be(er.doc,eq,eq);if(er.state.draggingText){ax(er.doc,"",es,eo,"paste")}er.replaceSelection(et,null,"paste");c4(er);bM(er)}}catch(ep){}}}function G(ek,em){if(cu&&(!ek.state.draggingText||+new Date-N<100)){cV(em);return}if(ap(ek,em)||aC(ek.display,em)){return}var ej=ek.getSelection();em.dataTransfer.setData("Text",ej);if(em.dataTransfer.setDragImage&&!ae){var el=d7("img",null,null,"position: fixed; left: 0; top: 0;");if(dP){el.width=el.height=1;ek.display.wrapper.appendChild(el);el._top=el.offsetTop}em.dataTransfer.setDragImage(el,0,0);if(dP){el.parentNode.removeChild(el)}}}function D(ej,ek){if(Math.abs(ej.doc.scrollTop-ek)<2){return}ej.doc.scrollTop=ek;if(!bC){cv(ej,[],ek)}if(ej.display.scroller.scrollTop!=ek){ej.display.scroller.scrollTop=ek}if(ej.display.scrollbarV.scrollTop!=ek){ej.display.scrollbarV.scrollTop=ek}if(bC){cv(ej,[])}cO(ej,100)}function a0(ej,el,ek){if(ek?el==ej.doc.scrollLeft:Math.abs(ej.doc.scrollLeft-el)<2){return}el=Math.min(el,ej.display.scroller.scrollWidth-ej.display.scroller.clientWidth);ej.doc.scrollLeft=el;c8(ej);if(ej.display.scroller.scrollLeft!=el){ej.display.scroller.scrollLeft=el}if(ej.display.scrollbarH.scrollLeft!=el){ej.display.scrollbarH.scrollLeft=el}}var dE=0,bu=null;if(cu){bu=-0.53}else{if(bC){bu=15}else{if(ca){bu=-0.7}else{if(ae){bu=-1/3}}}}function b(ep,ek){var es=ek.wheelDeltaX,er=ek.wheelDeltaY;if(es==null&&ek.detail&&ek.axis==ek.HORIZONTAL_AXIS){es=ek.detail}if(er==null&&ek.detail&&ek.axis==ek.VERTICAL_AXIS){er=ek.detail}else{if(er==null){er=ek.wheelDelta}}var em=ep.display,eo=em.scroller;if(!(es&&eo.scrollWidth>eo.clientWidth||er&&eo.scrollHeight>eo.clientHeight)){return}if(er&&bl&&b2){for(var eq=ek.target;eq!=eo;eq=eq.parentNode){if(eq.lineObj){ep.display.currentWheelTarget=eq;break}}}if(es&&!bC&&!dP&&bu!=null){if(er){D(ep,Math.max(0,Math.min(eo.scrollTop+er*bu,eo.scrollHeight-eo.clientHeight)))}a0(ep,Math.max(0,Math.min(eo.scrollLeft+es*bu,eo.scrollWidth-eo.clientWidth)));bP(ek);em.wheelStartX=null;return}if(er&&bu!=null){var ej=er*bu;var en=ep.doc.scrollTop,el=en+em.wrapper.clientHeight;if(ej<0){en=Math.max(0,en+ej-50)}else{el=Math.min(ep.doc.height,el+ej+50)}cv(ep,[],{top:en,bottom:el})}if(dE<20){if(em.wheelStartX==null){em.wheelStartX=eo.scrollLeft;em.wheelStartY=eo.scrollTop;em.wheelDX=es;em.wheelDY=er;setTimeout(function(){if(em.wheelStartX==null){return}var et=eo.scrollLeft-em.wheelStartX;var ev=eo.scrollTop-em.wheelStartY;var eu=(ev&&em.wheelDY&&ev/em.wheelDY)||(et&&em.wheelDX&&et/em.wheelDX);em.wheelStartX=em.wheelStartY=null;if(!eu){return}bu=(bu*dE+eu)/(dE+1);++dE},200)}else{em.wheelDX+=es;em.wheelDY+=er}}}function d3(ek,en,ej){if(typeof en=="string"){en=c6[en];if(!en){return false}}if(ek.display.pollingFast&&bv(ek)){ek.display.pollingFast=false}var eo=ek.doc,em=eo.sel.shift,el=false;try{if(Q(ek)){ek.state.suppressEdits=true}if(ej){eo.sel.shift=false}el=en(ek)!=bq}finally{eo.sel.shift=em;ek.state.suppressEdits=false}return el}function cl(ej){var ek=ej.state.keyMaps.slice(0);if(ej.options.extraKeys){ek.push(ej.options.extraKeys)}ek.push(ej.options.keyMap);return ek}var X;function dB(ej,ep){var ek=d5(ej.options.keyMap),en=ek.auto;clearTimeout(X);if(en&&!c5(ep)){X=setTimeout(function(){if(d5(ej.options.keyMap)==ek){ej.options.keyMap=(en.call?en.call(null,ej):en);eg(ej)}},50)}var em=dK(ep,true),eo=false;if(!em){return false}var el=cl(ej);if(ep.shiftKey){eo=g("Shift-"+em,el,function(eq){return d3(ej,eq,true)})||g(em,el,function(eq){if(typeof eq=="string"?/^go[A-Z]/.test(eq):eq.motion){return d3(ej,eq)}})}else{eo=g(em,el,function(eq){return d3(ej,eq)})}if(eo){bP(ep);l(ej);if(by){ep.oldKeyCode=ep.keyCode;ep.keyCode=0}M(ej,"keyHandled",ej,em,ep)}return eo}function cR(ej,em,ek){var el=g("'"+ek+"'",cl(ej),function(en){return d3(ej,en,true)});if(el){bP(em);l(ej);M(ej,"keyHandled",ej,"'"+ek+"'",em)}return el}var cg=null;function m(em){var ej=this;if(!ej.state.focused){bM(ej)}if(ap(ej,em)||ej.options.onKeyEvent&&ej.options.onKeyEvent(ej,W(em))){return}if(cu&&em.keyCode==27){em.returnValue=false}var ek=em.keyCode;ej.doc.sel.shift=ek==16||em.shiftKey;var el=dB(ej,em);if(dP){cg=el?ek:null;if(!el&&ek==88&&!b9&&(bl?em.metaKey:em.ctrlKey)){ej.replaceSelection("")}}}function bJ(en){var ej=this;if(ap(ej,en)||ej.options.onKeyEvent&&ej.options.onKeyEvent(ej,W(en))){return}var em=en.keyCode,ek=en.charCode;if(dP&&em==cg){cg=null;bP(en);return}if(((dP&&(!en.which||en.which<10))||aD)&&dB(ej,en)){return}var el=String.fromCharCode(ek==null?em:ek);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!Q(this)&&this.doc.mode.electricChars.indexOf(el)>-1){setTimeout(b3(ej,function(){L(ej,ej.doc.sel.to.line,"smart")}),75)}if(cR(ej,en,el)){return}if(cu&&!by){ej.display.inputHasSelection=null}u(ej)}function bM(ej){if(ej.options.readOnly=="nocursor"){return}if(!ej.state.focused){af(ej,"focus",ej);ej.state.focused=true;if(ej.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){ej.display.wrapper.className+=" CodeMirror-focused"}if(!ej.curOp){dI(ej,true);if(b2){setTimeout(bI(dI,ej,true),0)}}}aN(ej);l(ej)}function ar(ej){if(ej.state.focused){af(ej,"blur",ej);ej.state.focused=false;ej.display.wrapper.className=ej.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(ej.display.blinker);setTimeout(function(){if(!ej.state.focused){ej.doc.sel.shift=false}},150)}var dT;function ab(es,en){if(ap(es,en,"contextmenu")){return}var ep=es.display,ek=es.doc.sel;if(aC(ep,en)||ce(es,en)){return}var er=bB(es,en),ej=ep.scroller.scrollTop;if(!er||dP){return}if(dW(ek.from,ek.to)||dy(er,ek.from)||!dy(er,ek.to)){b3(es,be)(es.doc,er,er)}var eo=ep.input.style.cssText;ep.inputDiv.style.position="absolute";ep.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(en.clientY-5)+"px; left: "+(en.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";c4(es);dI(es,true);if(dW(ek.from,ek.to)){ep.input.value=ep.prevInput=" "}function em(){if(ep.input.selectionStart!=null){var et=ep.input.value="\u200b"+(dW(ek.from,ek.to)?"":ep.input.value);ep.prevInput="\u200b";ep.input.selectionStart=1;ep.input.selectionEnd=et.length}}function eq(){ep.inputDiv.style.position="relative";ep.input.style.cssText=eo;if(by){ep.scrollbarV.scrollTop=ep.scroller.scrollTop=ej}aN(es);if(ep.input.selectionStart!=null){if(!cu||by){em()}clearTimeout(dT);var et=0,eu=function(){if(ep.prevInput==" "&&ep.input.selectionStart==0){b3(es,c6.selectAll)(es)}else{if(et++<10){dT=setTimeout(eu,500)}else{dI(es)}}};dT=setTimeout(eu,200)}}if(cu&&!by){em()}if(bR){cV(en);var el=function(){cN(window,"mouseup",el);setTimeout(eq,20)};bg(window,"mouseup",el)}else{setTimeout(eq,50)}}var bZ=z.changeEnd=function(ej){if(!ej.text){return ej.to}return I(ej.from.line+ej.text.length-1,dV(ej.text).length+(ej.text.length==1?ej.from.ch:0))};function c7(en,ep,eo){if(!dy(ep.from,eo)){return dX(en,eo)}var em=(ep.text.length-1)-(ep.to.line-ep.from.line);if(eo.line>ep.to.line+em){var el=eo.line-em,ek=en.first+en.size-1;if(el>ek){return I(ek,dx(en,ek).text.length)}return dL(eo,dx(en,el).text.length)}if(eo.line==ep.to.line+em){return dL(eo,dV(ep.text).length+(ep.text.length==1?ep.from.ch:0)+dx(en,ep.to.line).text.length-ep.to.ch)}var ej=eo.line-ep.from.line;return dL(eo,ep.text[ej].length+(ej?0:ep.from.ch))}function dC(ek,en,el){if(el&&typeof el=="object"){return{anchor:c7(ek,en,el.anchor),head:c7(ek,en,el.head)}}if(el=="start"){return{anchor:en.from,head:en.from}}var ej=bZ(en);if(el=="around"){return{anchor:en.from,head:ej}}if(el=="end"){return{anchor:ej,head:ej}}var em=function(eq){if(dy(eq,en.from)){return eq}if(!dy(en.to,eq)){return ej}var eo=eq.line+en.text.length-(en.to.line-en.from.line)-1,ep=eq.ch;if(eq.line==en.to.line){ep+=ej.ch-en.to.ch}return I(eo,ep)};return{anchor:em(ek.sel.anchor),head:em(ek.sel.head)}}function cA(ek,em,el){var ej={canceled:false,from:em.from,to:em.to,text:em.text,origin:em.origin,cancel:function(){this.canceled=true}};if(el){ej.update=function(eq,ep,eo,en){if(eq){this.from=dX(ek,eq)}if(ep){this.to=dX(ek,ep)}if(eo){this.text=eo}if(en!==undefined){this.origin=en}}}af(ek,"beforeChange",ek,ej);if(ek.cm){af(ek.cm,"beforeChange",ek.cm,ej)}if(ej.canceled){return null}return{from:ej.from,to:ej.to,text:ej.text,origin:ej.origin}}function aH(em,eo,en,el){if(em.cm){if(!em.cm.curOp){return b3(em.cm,aH)(em,eo,en,el)}if(em.cm.state.suppressEdits){return}}if(dD(em,"beforeChange")||em.cm&&dD(em.cm,"beforeChange")){eo=cA(em,eo,true);if(!eo){return}}var ek=ed&&!el&&bQ(em,eo.from,eo.to);if(ek){for(var ej=ek.length-1;ej>=1;--ej){an(em,{from:ek[ej].from,to:ek[ej].to,text:[""]})}if(ek.length){an(em,{from:ek[0].from,to:ek[0].to,text:eo.text},en)}}else{an(em,eo,en)}}function an(el,en,em){var ek=dC(el,en,em);db(el,en,ek,el.cm?el.cm.curOp.id:NaN);cM(el,en,ek,cS(el,en));var ej=[];cH(el,function(ep,eo){if(!eo&&cf(ej,ep.history)==-1){ct(ep.history,en);ej.push(ep.history)}cM(ep,en,null,cS(ep,en))})}function bn(es,ep){if(es.cm&&es.cm.state.suppressEdits){return}var eo=es.history;var ek=(ep=="undo"?eo.done:eo.undone).pop();if(!ek){return}var eq={changes:[],anchorBefore:ek.anchorAfter,headBefore:ek.headAfter,anchorAfter:ek.anchorBefore,headAfter:ek.headBefore,generation:eo.generation};(ep=="undo"?eo.undone:eo.done).push(eq);eo.generation=ek.generation||++eo.maxGeneration;var el=dD(es,"beforeChange")||es.cm&&dD(es.cm,"beforeChange");for(var em=ek.changes.length-1;em>=0;--em){var er=ek.changes[em];er.origin=ep;if(el&&!cA(es,er,false)){(ep=="undo"?eo.done:eo.undone).length=0;return}eq.changes.push(cm(es,er));var ej=em?dC(es,er,null):{anchor:ek.anchorBefore,head:ek.headBefore};cM(es,er,ej,cJ(es,er));var en=[];cH(es,function(eu,et){if(!et&&cf(en,eu.history)==-1){ct(eu.history,er);en.push(eu.history)}cM(eu,er,null,cJ(eu,er))})}}function dF(ej,el){function ek(em){return I(em.line+el,em.ch)}ej.first+=el;if(ej.cm){O(ej.cm,ej.first,ej.first,el)}ej.sel.head=ek(ej.sel.head);ej.sel.anchor=ek(ej.sel.anchor);ej.sel.from=ek(ej.sel.from);ej.sel.to=ek(ej.sel.to)}function cM(en,eo,em,ek){if(en.cm&&!en.cm.curOp){return b3(en.cm,cM)(en,eo,em,ek)}if(eo.to.line<en.first){dF(en,eo.text.length-1-(eo.to.line-eo.from.line));return}if(eo.from.line>en.lastLine()){return}if(eo.from.line<en.first){var ej=eo.text.length-1-(en.first-eo.from.line);dF(en,ej);eo={from:I(en.first,0),to:I(eo.to.line+ej,eo.to.ch),text:[dV(eo.text)],origin:eo.origin}}var el=en.lastLine();if(eo.to.line>el){eo={from:eo.from,to:I(el,dx(en,el).text.length),text:[eo.text[0]],origin:eo.origin}}eo.removed=d8(en,eo.from,eo.to);if(!em){em=dC(en,eo,null)}if(en.cm){aj(en.cm,eo,ek,em)}else{dQ(en,eo,ek,em)}}function aj(et,ep,em,ej){var es=et.doc,eo=et.display,eq=ep.from,er=ep.to;var ek=false,el=eq.line;if(!et.options.lineWrapping){el=a9(t(es,dx(es,eq.line)));es.iter(el,er.line+1,function(ew){if(ew==eo.maxLine){ek=true;return true}})}if(!dy(es.sel.head,ep.from)&&!dy(ep.to,es.sel.head)){et.curOp.cursorActivity=true}dQ(es,ep,em,ej,aF(et));if(!et.options.lineWrapping){es.iter(el,eq.line+ep.text.length,function(ex){var ew=cT(es,ex);if(ew>eo.maxLineLength){eo.maxLine=ex;eo.maxLineLength=ew;eo.maxLineChanged=true;ek=false}});if(ek){et.curOp.updateMaxLine=true}}es.frontier=Math.min(es.frontier,eq.line);cO(et,400);var ev=ep.text.length-(er.line-eq.line)-1;O(et,eq.line,er.line+1,ev);if(dD(et,"change")){var en={from:eq,to:er,text:ep.text,removed:ep.removed,origin:ep.origin};if(et.curOp.textChanged){for(var eu=et.curOp.textChanged;eu.next;eu=eu.next){}eu.next=en}else{et.curOp.textChanged=en}}}function ax(em,el,eo,en,ej){if(!en){en=eo}if(dy(en,eo)){var ek=en;en=eo;eo=ek}if(typeof el=="string"){el=aw(el)}aH(em,{from:eo,to:en,text:el,origin:ej},null)}function I(ej,ek){if(!(this instanceof I)){return new I(ej,ek)}this.line=ej;this.ch=ek}z.Pos=I;function dW(ek,ej){return ek.line==ej.line&&ek.ch==ej.ch}function dy(ek,ej){return ek.line<ej.line||(ek.line==ej.line&&ek.ch<ej.ch)}function bw(ej){return I(ej.line,ej.ch)}function b5(ej,ek){return Math.max(ej.first,Math.min(ek,ej.first+ej.size-1))}function dX(ek,el){if(el.line<ek.first){return I(ek.first,0)}var ej=ek.first+ek.size-1;if(el.line>ej){return I(ej,dx(ek,ej).text.length)}return dL(el,dx(ek,el.line).text.length)}function dL(el,ek){var ej=el.ch;if(ej==null||ej>ek){return I(el.line,ek)}else{if(ej<0){return I(el.line,0)}else{return el}}}function bo(ek,ej){return ej>=ek.first&&ej<ek.first+ek.size}function d4(en,eo,ej,ek){if(en.sel.shift||en.sel.extend){var em=en.sel.anchor;if(ej){var el=dy(eo,em);if(el!=dy(ej,em)){em=eo;eo=ej}else{if(el!=dy(eo,ej)){eo=ej}}}be(en,em,eo,ek)}else{be(en,eo,ej||eo,ek)}if(en.cm){en.cm.curOp.userSelChange=true}}function c(em,ej,ek){var el={anchor:ej,head:ek};af(em,"beforeSelectionChange",em,el);if(em.cm){af(em.cm,"beforeSelectionChange",em.cm,el)}el.anchor=dX(em,el.anchor);el.head=dX(em,el.head);return el}function be(eq,en,eo,el,ek){if(!ek&&dD(eq,"beforeSelectionChange")||eq.cm&&dD(eq.cm,"beforeSelectionChange")){var em=c(eq,en,eo);eo=em.head;en=em.anchor}var ep=eq.sel;ep.goalColumn=null;if(ek||!dW(en,ep.anchor)){en=bf(eq,en,el,ek!="push")}if(ek||!dW(eo,ep.head)){eo=bf(eq,eo,el,ek!="push")}if(dW(ep.anchor,en)&&dW(ep.head,eo)){return}ep.anchor=en;ep.head=eo;var ej=dy(eo,en);ep.from=ej?eo:en;ep.to=ej?en:eo;if(eq.cm){eq.cm.curOp.updateInput=eq.cm.curOp.selectionChanged=eq.cm.curOp.cursorActivity=true}M(eq,"cursorActivity",eq)}function c0(ej){be(ej.doc,ej.doc.sel.from,ej.doc.sel.to,null,"push")}function bf(es,er,eo,ep){var et=false,el=er;var em=eo||1;es.cantEdit=false;search:for(;;){var eu=dx(es,el.line);if(eu.markedSpans){for(var en=0;en<eu.markedSpans.length;++en){var ej=eu.markedSpans[en],ek=ej.marker;if((ej.from==null||(ek.inclusiveLeft?ej.from<=el.ch:ej.from<el.ch))&&(ej.to==null||(ek.inclusiveRight?ej.to>=el.ch:ej.to>el.ch))){if(ep){af(ek,"beforeCursorEnter");if(ek.explicitlyCleared){if(!eu.markedSpans){break}else{--en;continue}}}if(!ek.atomic){continue}var eq=ek.find()[em<0?"from":"to"];if(dW(eq,el)){eq.ch+=em;if(eq.ch<0){if(eq.line>es.first){eq=dX(es,I(eq.line-1))}else{eq=null}}else{if(eq.ch>eu.text.length){if(eq.line<es.first+es.size-1){eq=I(eq.line+1,0)}else{eq=null}}}if(!eq){if(et){if(!ep){return bf(es,er,eo,true)}es.cantEdit=true;return I(es.first,0)}et=true;eq=er;em=-em}}el=eq;continue search}}}return el}}function ac(ek){var en=v(ek,ek.doc.sel.head,ek.options.cursorScrollMargin);if(!ek.state.focused){return}var eo=ek.display,el=al(eo.sizer),ej=null;if(en.top+el.top<0){ej=true}else{if(en.bottom+el.top>(window.innerHeight||document.documentElement.clientHeight)){ej=false}}if(ej!=null&&!dM){var em=eo.cursor.style.display=="none";if(em){eo.cursor.style.display="";eo.cursor.style.left=en.left+"px";eo.cursor.style.top=(en.top-eo.viewOffset)+"px"}eo.cursor.scrollIntoView(ej);if(em){eo.cursor.style.display="none"}}}function v(ej,eq,en){if(en==null){en=0}for(;;){var eo=false,em=cB(ej,eq);var ep=y(ej,em.left,em.top-en,em.left,em.bottom+en);var ek=ej.doc.scrollTop,el=ej.doc.scrollLeft;if(ep.scrollTop!=null){D(ej,ep.scrollTop);if(Math.abs(ej.doc.scrollTop-ek)>1){eo=true}}if(ep.scrollLeft!=null){a0(ej,ep.scrollLeft);if(Math.abs(ej.doc.scrollLeft-el)>1){eo=true}}if(!eo){return em}}}function x(ej,el,en,ek,em){var eo=y(ej,el,en,ek,em);if(eo.scrollTop!=null){D(ej,eo.scrollTop)}if(eo.scrollLeft!=null){a0(ej,eo.scrollLeft)}}function y(ep,ex,em,ew,el){var eu=ep.display,et=au(ep.display);if(em<0){em=0}var ek=eu.scroller.clientHeight-aK,es=eu.scroller.scrollTop,er={};var ez=ep.doc.height+a4(eu);var eA=em<et,ev=el>ez-et;if(em<es){er.scrollTop=eA?0:em}else{if(el>es+ek){var eq=Math.min(em,(ev?ez:el)-ek);if(eq!=es){er.scrollTop=eq}}}var eo=eu.scroller.clientWidth-aK,ej=eu.scroller.scrollLeft;ex+=eu.gutters.offsetWidth;ew+=eu.gutters.offsetWidth;var en=eu.gutters.offsetWidth;var ey=ex<en+10;if(ex<ej+en||ey){if(ey){ex=0}er.scrollLeft=Math.max(0,ex-10-en)}else{if(ew>eo+ej-3){er.scrollLeft=ew+10-eo}}return er}function w(ej,el,ek){ej.curOp.updateScrollPos={scrollLeft:el==null?ej.doc.scrollLeft:el,scrollTop:ek==null?ej.doc.scrollTop:ek}}function bU(ek,em,el){var en=ek.curOp.updateScrollPos||(ek.curOp.updateScrollPos={scrollLeft:ek.doc.scrollLeft,scrollTop:ek.doc.scrollTop});var ej=ek.display.scroller;en.scrollTop=Math.max(0,Math.min(ej.scrollHeight-ej.clientHeight,en.scrollTop+el));en.scrollLeft=Math.max(0,Math.min(ej.scrollWidth-ej.clientWidth,en.scrollLeft+em))}function L(ev,em,eu,el){var et=ev.doc;if(eu==null){eu="add"}if(eu=="smart"){if(!ev.doc.mode.indent){eu="prev"}else{var ek=cq(ev,em)}}var ep=ev.options.tabSize;var ew=dx(et,em),eo=bc(ew.text,null,ep);var ej=ew.text.match(/^\s*/)[0],er;if(eu=="smart"){er=ev.doc.mode.indent(ek,ew.text.slice(ej.length),ew.text);if(er==bq){if(!el){return}eu="prev"}}if(eu=="prev"){if(em>et.first){er=bc(dx(et,em-1).text,null,ep)}else{er=0}}else{if(eu=="add"){er=eo+ev.options.indentUnit}else{if(eu=="subtract"){er=eo-ev.options.indentUnit}else{if(typeof eu=="number"){er=eo+eu}}}}er=Math.max(0,er);var es="",eq=0;if(ev.options.indentWithTabs){for(var en=Math.floor(er/ep);en;--en){eq+=ep;es+="\t"}}if(eq<er){es+=bD(er-eq)}if(es!=ej){ax(ev.doc,es,I(em,0),I(em,ej.length),"+input")}ew.stateAfter=null}function c2(ej,el,eo){var en=el,ek=el,em=ej.doc;if(typeof el=="number"){ek=dx(em,b5(em,el))}else{en=a9(el)}if(en==null){return null}if(eo(ek,en)){O(ej,en,en+1)}else{return null}return ek}function aV(eA,em,eu,et,eo){var er=em.line,es=em.ch,ez=eu;var ej=dx(eA,er);var ex=true;function ey(){var eB=er+eu;if(eB<eA.first||eB>=eA.first+eA.size){return(ex=false)}er=eB;return ej=dx(eA,eB)}function ew(eC){var eB=(eo?q:P)(ej,es,eu,true);if(eB==null){if(!eC&&ey()){if(eo){es=(eu<0?bY:bO)(ej)}else{es=eu<0?ej.text.length:0}}else{return(ex=false)}}else{es=eB}return true}if(et=="char"){ew()}else{if(et=="column"){ew(true)}else{if(et=="word"||et=="group"){var ev=null,ep=et=="group";for(var en=true;;en=false){if(eu<0&&!ew(!en)){break}var ek=ej.text.charAt(es)||"\n";var el=bL(ek)?"w":!ep?null:/\s/.test(ek)?null:"p";if(ev&&ev!=el){if(eu<0){eu=1;ew()}break}if(el){ev=el}if(eu>0&&!ew(!en)){break}}}}}var eq=bf(eA,I(er,es),ez,true);if(!ex){eq.hitSide=true}return eq}function aR(er,em,ej,eq){var ep=er.doc,eo=em.left,en;if(eq=="page"){var el=Math.min(er.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);en=em.top+ej*(el-(ej<0?1.5:0.5)*au(er.display))}else{if(eq=="line"){en=ej>0?em.bottom+3:em.top-3}}for(;;){var ek=d1(er,eo,en);if(!ek.outside){break}if(ej<0?en<=0:en>=ep.height){ek.hitSide=true;break}en+=ej*5}return ek}function Z(em,eo){var en=eo.ch,el=eo.ch;if(em){if((eo.xRel<0||el==em.length)&&en){--en}else{++el}var ek=em.charAt(en);var ej=bL(ek)?bL:/\s/.test(ek)?function(ep){return/\s/.test(ep)}:function(ep){return !/\s/.test(ep)&&!bL(ep)};while(en>0&&ej(em.charAt(en-1))){--en}while(el<em.length&&ej(em.charAt(el))){++el}}return{from:I(eo.line,en),to:I(eo.line,el)}}function aM(ej,ek){d4(ej.doc,I(ek,0),dX(ej.doc,I(ek+1,0)))}z.prototype={constructor:z,focus:function(){window.focus();c4(this);bM(this);u(this)},setOption:function(el,em){var ek=this.options,ej=ek[el];if(ek[el]==em&&el!="mode"){return}ek[el]=em;if(aG.hasOwnProperty(el)){b3(this,aG[el])(this,em,ej)}},getOption:function(ej){return this.options[ej]},getDoc:function(){return this.doc},addKeyMap:function(ek,ej){this.state.keyMaps[ej?"push":"unshift"](ek)},removeKeyMap:function(ek){var el=this.state.keyMaps;for(var ej=0;ej<el.length;++ej){if(el[ej]==ek||(typeof el[ej]!="string"&&el[ej].name==ek)){el.splice(ej,1);return true}}},addOverlay:b3(null,function(ej,ek){var el=ej.token?ej:z.getMode(this.options,ej);if(el.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:el,modeSpec:ej,opaque:ek&&ek.opaque});this.state.modeGen++;O(this)}),removeOverlay:b3(null,function(ej){var el=this.state.overlays;for(var ek=0;ek<el.length;++ek){var em=el[ek].modeSpec;if(em==ej||typeof ej=="string"&&em.name==ej){el.splice(ek,1);this.state.modeGen++;O(this);return}}}),indentLine:b3(null,function(el,ej,ek){if(typeof ej!="string"&&typeof ej!="number"){if(ej==null){ej=this.options.smartIndent?"smart":"prev"}else{ej=ej?"add":"subtract"}}if(bo(this.doc,el)){L(this,el,ej,ek)}}),indentSelection:b3(null,function(ek){var el=this.doc.sel;if(dW(el.from,el.to)){return L(this,el.from.line,ek)}var em=el.to.line-(el.to.ch?0:1);for(var ej=el.from.line;ej<=em;++ej){L(this,ej,ek)}}),getTokenAt:function(eq,ek){var en=this.doc;eq=dX(en,eq);var em=cq(this,eq.line,ek),ep=this.doc.mode;var ej=dx(en,eq.line);var eo=new di(ej.text,this.options.tabSize);while(eo.pos<eq.ch&&!eo.eol()){eo.start=eo.pos;var el=ep.token(eo,em)}return{start:eo.start,end:eo.pos,string:eo.current(),className:el||null,type:el||null,state:em}},getTokenTypeAt:function(eo){eo=dX(this.doc,eo);var el=b8(this,dx(this.doc,eo.line));var em=0,en=(el.length-1)/2,ek=eo.ch;if(ek==0){return el[2]}for(;;){var ej=(em+en)>>1;if((ej?el[ej*2-1]:0)>=ek){en=ej}else{if(el[ej*2+1]<ek){em=ej+1}else{return el[ej*2+2]}}}},getModeAt:function(ek){var ej=this.doc.mode;if(!ej.innerMode){return ej}return z.innerMode(ej,this.getTokenAt(ek).state).mode},getHelper:function(em,ek){if(!dG.hasOwnProperty(ek)){return}var ej=dG[ek],el=this.getModeAt(em);return el[ek]&&ej[el[ek]]||el.helperType&&ej[el.helperType]||ej[el.name]},getStateAfter:function(ek,ej){var el=this.doc;ek=b5(el,ek==null?el.first+el.size-1:ek);return cq(this,ek+1,ej)},cursorCoords:function(em,ek){var el,ej=this.doc.sel;if(em==null){el=ej.head}else{if(typeof em=="object"){el=dX(this.doc,em)}else{el=em?ej.from:ej.to}}return cB(this,el,ek||"page")},charCoords:function(ek,ej){return bT(this,dX(this.doc,ek),ej||"page")},coordsChar:function(ej,ek){ej=ef(this,ej,ek||"page");return d1(this,ej.left,ej.top)},lineAtHeight:function(ej,ek){ej=ef(this,{top:ej,left:0},ek||"page").top;return a2(this.doc,ej+this.display.viewOffset)},heightAtLine:function(ek,en){var ej=false,em=this.doc.first+this.doc.size-1;if(ek<this.doc.first){ek=this.doc.first}else{if(ek>em){ek=em;ej=true}}var el=dx(this.doc,ek);return dg(this,dx(this.doc,ek),{top:0,left:0},en||"page").top+(ej?el.height:0)},defaultTextHeight:function(){return au(this.display)},defaultCharWidth:function(){return cs(this.display)},setGutterMarker:b3(null,function(ej,ek,el){return c2(this,ej,function(em){var en=em.gutterMarkers||(em.gutterMarkers={});en[ek]=el;if(!el&&dj(en)){em.gutterMarkers=null}return true})}),clearGutter:b3(null,function(el){var ej=this,em=ej.doc,ek=em.first;em.iter(function(en){if(en.gutterMarkers&&en.gutterMarkers[el]){en.gutterMarkers[el]=null;O(ej,ek,ek+1);if(dj(en.gutterMarkers)){en.gutterMarkers=null}}++ek})}),addLineClass:b3(null,function(el,ek,ej){return c2(this,el,function(em){var en=ek=="text"?"textClass":ek=="background"?"bgClass":"wrapClass";if(!em[en]){em[en]=ej}else{if(new RegExp("(?:^|\\s)"+ej+"(?:$|\\s)").test(em[en])){return false}else{em[en]+=" "+ej}}return true})}),removeLineClass:b3(null,function(el,ek,ej){return c2(this,el,function(en){var eq=ek=="text"?"textClass":ek=="background"?"bgClass":"wrapClass";var ep=en[eq];if(!ep){return false}else{if(ej==null){en[eq]=null}else{var eo=ep.match(new RegExp("(?:^|\\s+)"+ej+"(?:$|\\s+)"));if(!eo){return false}var em=eo.index+eo[0].length;en[eq]=ep.slice(0,eo.index)+(!eo.index||em==ep.length?"":" ")+ep.slice(em)||null}}return true})}),addLineWidget:b3(null,function(el,ek,ej){return a3(this,el,ek,ej)}),removeLineWidget:function(ej){ej.clear()},lineInfo:function(ej){if(typeof ej=="number"){if(!bo(this.doc,ej)){return null}var ek=ej;ej=dx(this.doc,ej);if(!ej){return null}}else{var ek=a9(ej);if(ek==null){return null}}return{line:ek,handle:ej,text:ej.text,gutterMarkers:ej.gutterMarkers,textClass:ej.textClass,bgClass:ej.bgClass,wrapClass:ej.wrapClass,widgets:ej.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(eo,el,eq,em,es){var en=this.display;eo=cB(this,dX(this.doc,eo));var ep=eo.bottom,ek=eo.left;el.style.position="absolute";en.sizer.appendChild(el);if(em=="over"){ep=eo.top}else{if(em=="above"||em=="near"){var ej=Math.max(en.wrapper.clientHeight,this.doc.height),er=Math.max(en.sizer.clientWidth,en.lineSpace.clientWidth);if((em=="above"||eo.bottom+el.offsetHeight>ej)&&eo.top>el.offsetHeight){ep=eo.top-el.offsetHeight}else{if(eo.bottom+el.offsetHeight<=ej){ep=eo.bottom}}if(ek+el.offsetWidth>er){ek=er-el.offsetWidth}}}el.style.top=ep+"px";el.style.left=el.style.right="";if(es=="right"){ek=en.sizer.clientWidth-el.offsetWidth;el.style.right="0px"}else{if(es=="left"){ek=0}else{if(es=="middle"){ek=(en.sizer.clientWidth-el.offsetWidth)/2}}el.style.left=ek+"px"}if(eq){x(this,ek,ep,ek+el.offsetWidth,ep+el.offsetHeight)}},triggerOnKeyDown:b3(null,m),execCommand:function(ej){return c6[ej](this)},findPosH:function(ep,em,en,ek){var ej=1;if(em<0){ej=-1;em=-em}for(var el=0,eo=dX(this.doc,ep);el<em;++el){eo=aV(this.doc,eo,ej,en,ek);if(eo.hitSide){break}}return eo},moveH:b3(null,function(ej,ek){var el=this.doc.sel,em;if(el.shift||el.extend||dW(el.from,el.to)){em=aV(this.doc,el.head,ej,ek,this.options.rtlMoveVisually)}else{em=ej<0?el.from:el.to}d4(this.doc,em,em,ej)}),deleteH:b3(null,function(ej,ek){var el=this.doc.sel;if(!dW(el.from,el.to)){ax(this.doc,"",el.from,el.to,"+delete")}else{ax(this.doc,"",el.from,aV(this.doc,el.head,ej,ek,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(eo,el,ep,er){var ej=1,en=er;if(el<0){ej=-1;el=-el}for(var ek=0,eq=dX(this.doc,eo);ek<el;++ek){var em=cB(this,eq,"div");if(en==null){en=em.left}else{em.left=en}eq=aR(this,em,ej,ep);if(eq.hitSide){break}}return eq},moveV:b3(null,function(ej,ek){var el=this.doc.sel;var en=cB(this,el.head,"div");if(el.goalColumn!=null){en.left=el.goalColumn}var em=aR(this,en,ej,ek);if(ek=="page"){bU(this,0,bT(this,em,"div").top-en.top)}d4(this.doc,em,em,ej);el.goalColumn=en.left}),toggleOverwrite:function(ej){if(ej!=null&&ej==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:b3(null,function(ej,ek){w(this,ej,ek)}),getScrollInfo:function(){var ej=this.display.scroller,ek=aK;return{left:ej.scrollLeft,top:ej.scrollTop,height:ej.scrollHeight-ek,width:ej.scrollWidth-ek,clientHeight:ej.clientHeight-ek,clientWidth:ej.clientWidth-ek}},scrollIntoView:b3(null,function(em,el){if(typeof em=="number"){em=I(em,0)}if(!el){el=0}var ek=em;if(!em||em.line!=null){this.curOp.scrollToPos=em?dX(this.doc,em):this.doc.sel.head;this.curOp.scrollToPosMargin=el;ek=cB(this,this.curOp.scrollToPos)}var ej=y(this,ek.left,ek.top-el,ek.right,ek.bottom+el);w(this,ej.scrollLeft,ej.scrollTop)}),setSize:b3(null,function(el,ej){function ek(em){return typeof em=="number"||/^\d+$/.test(String(em))?em+"px":em}if(el!=null){this.display.wrapper.style.width=ek(el)}if(ej!=null){this.display.wrapper.style.height=ek(ej)}if(this.options.lineWrapping){this.display.measureLineCache.length=this.display.measureLineCachePos=0}this.curOp.forceUpdate=true}),operation:function(ej){return bV(this,ej)},refresh:b3(null,function(){R(this);w(this,this.doc.scrollLeft,this.doc.scrollTop);O(this)}),swapDoc:b3(null,function(ek){var ej=this.doc;ej.cm=null;cK(this,ek);R(this);dI(this,true);w(this,ek.scrollLeft,ek.scrollTop);return ej}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};aW(z);var aG=z.optionHandlers={};var dq=z.defaults={};function o(ej,em,el,ek){z.defaults[ej]=em;if(el){aG[ej]=ek?function(en,ep,eo){if(eo!=br){el(en,ep,eo)}}:el}}var br=z.Init={toString:function(){return"CodeMirror.Init"}};o("value","",function(ej,ek){ej.setValue(ek)},true);o("mode",null,function(ej,ek){ej.doc.modeOption=ek;aS(ej)},true);o("indentUnit",2,aS,true);o("indentWithTabs",false);o("smartIndent",true);o("tabSize",4,function(ej){aS(ej);R(ej);O(ej)},true);o("electricChars",true);o("rtlMoveVisually",!am);o("theme","default",function(ej){bW(ej);cn(ej)},true);o("keyMap","default",eg);o("extraKeys",null);o("onKeyEvent",null);o("onDragEvent",null);o("lineWrapping",false,dc,true);o("gutters",[],function(ej){bt(ej.options);cn(ej)},true);o("fixedGutter",true,function(ej,ek){ej.display.gutters.style.left=ek?cD(ej.display)+"px":"0";ej.refresh()},true);o("coverGutterNextToScrollbar",false,dl,true);o("lineNumbers",false,function(ej){bt(ej.options);cn(ej)},true);o("firstLineNumber",1,cn,true);o("lineNumberFormatter",function(ej){return ej},cn,true);o("showCursorWhenSelecting",false,aZ,true);o("readOnly",false,function(ej,ek){if(ek=="nocursor"){ar(ej);ej.display.input.blur()}else{if(!ek){dI(ej,true)}}});o("dragDrop",true);o("cursorBlinkRate",530);o("cursorScrollMargin",0);o("cursorHeight",1);o("workTime",100);o("workDelay",100);o("flattenSpans",true);o("pollInterval",100);o("undoDepth",40,function(ej,ek){ej.doc.history.undoDepth=ek});o("historyEventDelay",500);o("viewportMargin",10,function(ej){ej.refresh()},true);o("maxHighlightLength",10000,function(ej){aS(ej);ej.refresh()},true);o("moveInputWithCursor",true,function(ej,ek){if(!ek){ej.display.inputDiv.style.top=ej.display.inputDiv.style.left=0}});o("tabindex",null,function(ej,ek){ej.display.input.tabIndex=ek||""});o("autofocus",null);var ck=z.modes={},aq=z.mimeModes={};z.defineMode=function(ej,el){if(!z.defaults.mode&&ej!="null"){z.defaults.mode=ej}if(arguments.length>2){el.dependencies=[];for(var ek=2;ek<arguments.length;++ek){el.dependencies.push(arguments[ek])}}ck[ej]=el};z.defineMIME=function(ek,ej){aq[ek]=ej};z.resolveMode=function(ej){if(typeof ej=="string"&&aq.hasOwnProperty(ej)){ej=aq[ej]}else{if(ej&&typeof ej.name=="string"&&aq.hasOwnProperty(ej.name)){var ek=aq[ej.name];ej=bx(ek,ej);ej.name=ek.name}else{if(typeof ej=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ej)){return z.resolveMode("application/xml")}}}if(typeof ej=="string"){return{name:ej}}else{return ej||{name:"null"}}};z.getMode=function(ek,ej){var ej=z.resolveMode(ej);var em=ck[ej.name];if(!em){return z.getMode(ek,"text/plain")}var en=em(ek,ej);if(ci.hasOwnProperty(ej.name)){var el=ci[ej.name];for(var eo in el){if(!el.hasOwnProperty(eo)){continue}if(en.hasOwnProperty(eo)){en["_"+eo]=en[eo]}en[eo]=el[eo]}}en.name=ej.name;return en};z.defineMode("null",function(){return{token:function(ej){ej.skipToEnd()}}});z.defineMIME("text/plain","null");var ci=z.modeExtensions={};z.extendMode=function(el,ek){var ej=ci.hasOwnProperty(el)?ci[el]:(ci[el]={});ak(ek,ej)};z.defineExtension=function(ej,ek){z.prototype[ej]=ek};z.defineDocExtension=function(ej,ek){Y.prototype[ej]=ek};z.defineOption=o;var aA=[];z.defineInitHook=function(ej){aA.push(ej)};var dG=z.helpers={};z.registerHelper=function(ek,ej,el){if(!dG.hasOwnProperty(ek)){dG[ek]=z[ek]={}}dG[ek][ej]=el};z.isWordChar=bL;function bj(em,ej){if(ej===true){return ej}if(em.copyState){return em.copyState(ej)}var el={};for(var en in ej){var ek=ej[en];if(ek instanceof Array){ek=ek.concat([])}el[en]=ek}return el}z.copyState=bj;function bi(el,ek,ej){return el.startState?el.startState(ek,ej):true}z.startState=bi;z.innerMode=function(el,ej){while(el.innerMode){var ek=el.innerMode(ej);if(!ek||ek.mode==el){break}ej=ek.state;el=ek.mode}return ek||{mode:el,state:ej}};var c6=z.commands={selectAll:function(ej){ej.setSelection(I(ej.firstLine(),0),I(ej.lastLine()))},killLine:function(ej){var em=ej.getCursor(true),el=ej.getCursor(false),ek=!dW(em,el);if(!ek&&ej.getLine(em.line).length==em.ch){ej.replaceRange("",em,I(em.line+1,0),"+delete")}else{ej.replaceRange("",em,ek?el:I(em.line),"+delete")}},deleteLine:function(ej){var ek=ej.getCursor().line;ej.replaceRange("",I(ek,0),I(ek),"+delete")},delLineLeft:function(ej){var ek=ej.getCursor();ej.replaceRange("",I(ek.line,0),ek,"+delete")},undo:function(ej){ej.undo()},redo:function(ej){ej.redo()},goDocStart:function(ej){ej.extendSelection(I(ej.firstLine(),0))},goDocEnd:function(ej){ej.extendSelection(I(ej.lastLine()))},goLineStart:function(ej){ej.extendSelection(aU(ej,ej.getCursor().line))},goLineStartSmart:function(ek){var eo=ek.getCursor(),ep=aU(ek,eo.line);var el=ek.getLineHandle(ep.line);var ej=a(el);if(!ej||ej[0].level==0){var en=Math.max(0,el.text.search(/\S/));var em=eo.line==ep.line&&eo.ch<=en&&eo.ch;ek.extendSelection(I(ep.line,em?0:en))}else{ek.extendSelection(ep)}},goLineEnd:function(ej){ej.extendSelection(cz(ej,ej.getCursor().line))},goLineRight:function(ej){var ek=ej.charCoords(ej.getCursor(),"div").top+5;ej.extendSelection(ej.coordsChar({left:ej.display.lineDiv.offsetWidth+100,top:ek},"div"))},goLineLeft:function(ej){var ek=ej.charCoords(ej.getCursor(),"div").top+5;ej.extendSelection(ej.coordsChar({left:0,top:ek},"div"))},goLineUp:function(ej){ej.moveV(-1,"line")},goLineDown:function(ej){ej.moveV(1,"line")},goPageUp:function(ej){ej.moveV(-1,"page")},goPageDown:function(ej){ej.moveV(1,"page")},goCharLeft:function(ej){ej.moveH(-1,"char")},goCharRight:function(ej){ej.moveH(1,"char")},goColumnLeft:function(ej){ej.moveH(-1,"column")},goColumnRight:function(ej){ej.moveH(1,"column")},goWordLeft:function(ej){ej.moveH(-1,"word")},goGroupRight:function(ej){ej.moveH(1,"group")},goGroupLeft:function(ej){ej.moveH(-1,"group")},goWordRight:function(ej){ej.moveH(1,"word")},delCharBefore:function(ej){ej.deleteH(-1,"char")},delCharAfter:function(ej){ej.deleteH(1,"char")},delWordBefore:function(ej){ej.deleteH(-1,"word")},delWordAfter:function(ej){ej.deleteH(1,"word")},delGroupBefore:function(ej){ej.deleteH(-1,"group")},delGroupAfter:function(ej){ej.deleteH(1,"group")},indentAuto:function(ej){ej.indentSelection("smart")},indentMore:function(ej){ej.indentSelection("add")},indentLess:function(ej){ej.indentSelection("subtract")},insertTab:function(ej){ej.replaceSelection("\t","end","+input")},defaultTab:function(ej){if(ej.somethingSelected()){ej.indentSelection("add")}else{ej.replaceSelection("\t","end","+input")}},transposeChars:function(ej){var el=ej.getCursor(),ek=ej.getLine(el.line);if(el.ch>0&&el.ch<ek.length-1){ej.replaceRange(ek.charAt(el.ch)+ek.charAt(el.ch-1),I(el.line,el.ch-1),I(el.line,el.ch+1))}},newlineAndIndent:function(ej){b3(ej,function(){ej.replaceSelection("\n","end","+input");ej.indentLine(ej.getCursor().line,null,true)})()},toggleOverwrite:function(ej){ej.toggleOverwrite()}};var du=z.keyMap={};du.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};du.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};du.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};du["default"]=bl?du.macDefault:du.pcDefault;du.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function d5(ej){if(typeof ej=="string"){return du[ej]}else{return ej}}function g(ek,eo,em){function en(eu){eu=d5(eu);var es=eu[ek];if(es===false){return"stop"}if(es!=null&&em(es)){return true}if(eu.nofallthrough){return"stop"}var er=eu.fallthrough;if(er==null){return false}if(Object.prototype.toString.call(er)!="[object Array]"){return en(er)}for(var eq=0,et=er.length;eq<et;++eq){var ep=en(er[eq]);if(ep){return ep}}return false}for(var el=0;el<eo.length;++el){var ej=en(eo[el]);if(ej){return ej!="stop"}}}function c5(ek){var ej=dz[ek.keyCode];return ej=="Ctrl"||ej=="Alt"||ej=="Shift"||ej=="Mod"}function dK(ek,el){if(dP&&ek.keyCode==34&&ek["char"]){return false}var ej=dz[ek.keyCode];if(ej==null||ek.altGraphKey){return false}if(ek.altKey){ej="Alt-"+ej}if(bb?ek.metaKey:ek.ctrlKey){ej="Ctrl-"+ej}if(bb?ek.ctrlKey:ek.metaKey){ej="Cmd-"+ej}if(!el&&ek.shiftKey){ej="Shift-"+ej}return ej}z.lookupKey=g;z.isModifierKey=c5;z.keyName=dK;z.fromTextArea=function(eq,er){if(!er){er={}}er.value=eq.value;if(!er.tabindex&&eq.tabindex){er.tabindex=eq.tabindex}if(!er.placeholder&&eq.placeholder){er.placeholder=eq.placeholder}if(er.autofocus==null){var ej=document.body;try{ej=document.activeElement}catch(el){}er.autofocus=ej==eq||eq.getAttribute("autofocus")!=null&&ej==document.body}function en(){eq.value=ep.getValue()}if(eq.form){bg(eq.form,"submit",en);if(!er.leaveSubmitMethodAlone){var ek=eq.form,eo=ek.submit;try{var em=ek.submit=function(){en();ek.submit=eo;ek.submit();ek.submit=em}}catch(el){}}}eq.style.display="none";var ep=z(function(es){eq.parentNode.insertBefore(es,eq.nextSibling)},er);ep.save=en;ep.getTextArea=function(){return eq};ep.toTextArea=function(){en();eq.parentNode.removeChild(ep.getWrapperElement());eq.style.display="";if(eq.form){cN(eq.form,"submit",en);if(typeof eq.form.submit=="function"){eq.form.submit=eo}}};return ep};function di(ej,ek){this.pos=this.start=0;this.string=ej;this.tabSize=ek||8;this.lastColumnPos=this.lastColumnValue=0}di.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ej){var el=this.string.charAt(this.pos);if(typeof ej=="string"){var ek=el==ej}else{var ek=el&&(ej.test?ej.test(el):ej(el))}if(ek){++this.pos;return el}},eatWhile:function(ej){var ek=this.pos;while(this.eat(ej)){}return this.pos>ek},eatSpace:function(){var ej=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ej},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ej){var ek=this.string.indexOf(ej,this.pos);if(ek>-1){this.pos=ek;return true}},backUp:function(ej){this.pos-=ej},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bc(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return bc(this.string,null,this.tabSize)},match:function(en,ek,ej){if(typeof en=="string"){var eo=function(ep){return ej?ep.toLowerCase():ep};var em=this.string.substr(this.pos,en.length);if(eo(em)==eo(en)){if(ek!==false){this.pos+=en.length}return true}}else{var el=this.string.slice(this.pos).match(en);if(el&&el.index>0){return null}if(el&&ek!==false){this.pos+=el[0].length}return el}},current:function(){return this.string.slice(this.start,this.pos)}};z.StringStream=di;function F(ek,ej){this.lines=[];this.type=ej;this.doc=ek}z.TextMarker=F;aW(F);F.prototype.clear=function(){if(this.explicitlyCleared){return}var eq=this.doc.cm,ek=eq&&!eq.curOp;if(ek){bS(eq)}if(dD(this,"clear")){var er=this.find();if(er){M(this,"clear",er.from,er.to)}}var el=null,eo=null;for(var em=0;em<this.lines.length;++em){var es=this.lines[em];var ep=dt(es.markedSpans,this);if(ep.to!=null){eo=a9(es)}es.markedSpans=dd(es.markedSpans,ep);if(ep.from!=null){el=a9(es)}else{if(this.collapsed&&!dN(this.doc,es)&&eq){eb(es,au(eq.display))}}}if(eq&&this.collapsed&&!eq.options.lineWrapping){for(var em=0;em<this.lines.length;++em){var ej=t(eq.doc,this.lines[em]),en=cT(eq.doc,ej);if(en>eq.display.maxLineLength){eq.display.maxLine=ej;eq.display.maxLineLength=en;eq.display.maxLineChanged=true}}}if(el!=null&&eq){O(eq,el,eo+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(eq){c0(eq)}}if(ek){U(eq)}};F.prototype.find=function(){var eo,en;for(var ek=0;ek<this.lines.length;++ek){var ej=this.lines[ek];var el=dt(ej.markedSpans,this);if(el.from!=null||el.to!=null){var em=a9(ej);if(el.from!=null){eo=I(em,el.from)}if(el.to!=null){en=I(em,el.to)}}}if(this.type=="bookmark"){return eo}return eo&&{from:eo,to:en}};F.prototype.changed=function(){var em=this.find(),ej=this.doc.cm;if(!em||!ej){return}if(this.type!="bookmark"){em=em.from}var ek=dx(this.doc,em.line);d0(ej,ek);if(em.line>=ej.display.showingFrom&&em.line<ej.display.showingTo){for(var el=ej.display.lineDiv.firstChild;el;el=el.nextSibling){if(el.lineObj==ek){if(el.offsetHeight!=ek.height){eb(ek,el.offsetHeight)}break}}bV(ej,function(){ej.curOp.selectionChanged=ej.curOp.forceUpdate=ej.curOp.updateMaxLine=true})}};F.prototype.attachLine=function(ej){if(!this.lines.length&&this.doc.cm){var ek=this.doc.cm.curOp;if(!ek.maybeHiddenMarkers||cf(ek.maybeHiddenMarkers,this)==-1){(ek.maybeUnhiddenMarkers||(ek.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(ej)};F.prototype.detachLine=function(ej){this.lines.splice(cf(this.lines,ej),1);if(!this.lines.length&&this.doc.cm){var ek=this.doc.cm.curOp;(ek.maybeHiddenMarkers||(ek.maybeHiddenMarkers=[])).push(this)}};function da(es,eq,er,eu,eo){if(eu&&eu.shared){return E(es,eq,er,eu,eo)}if(es.cm&&!es.cm.curOp){return b3(es.cm,da)(es,eq,er,eu,eo)}var en=new F(es,eo);if(eo=="range"&&!dy(eq,er)){return en}if(eu){ak(eu,en)}if(en.replacedWith){en.collapsed=true;en.replacedWith=d7("span",[en.replacedWith],"CodeMirror-widget");if(!eu.handleMouseEvents){en.replacedWith.ignoreEvents=true}}if(en.collapsed){az=true}if(en.addToHistory){db(es,{from:eq,to:er,origin:"markText"},{head:es.sel.head,anchor:es.sel.anchor},NaN)}var ek=eq.line,et=0,em,el,ep=es.cm,ej;es.iter(ek,er.line+1,function(ev){if(ep&&en.collapsed&&!ep.options.lineWrapping&&t(es,ev)==ep.display.maxLine){ej=true}var ew={from:null,to:null,marker:en};et+=ev.text.length;if(ek==eq.line){ew.from=eq.ch;et-=eq.ch}if(ek==er.line){ew.to=er.ch;et-=ev.text.length-er.ch}if(en.collapsed){if(ek==er.line){el=aX(ev,er.ch)}if(ek==eq.line){em=aX(ev,eq.ch)}else{eb(ev,0)}}bs(ev,ew);++ek});if(en.collapsed){es.iter(eq.line,er.line+1,function(ev){if(dN(es,ev)){eb(ev,0)}})}if(en.clearOnEnter){bg(en,"beforeCursorEnter",function(){en.clear()})}if(en.readOnly){ed=true;if(es.history.done.length||es.history.undone.length){es.clearHistory()}}if(en.collapsed){if(em!=el){throw new Error("Inserting collapsed marker overlapping an existing one")}en.size=et;en.atomic=true}if(ep){if(ej){ep.curOp.updateMaxLine=true}if(en.className||en.title||en.startStyle||en.endStyle||en.collapsed){O(ep,eq.line,er.line+1)}if(en.atomic){c0(ep)}}return en}function s(em,ek){this.markers=em;this.primary=ek;for(var ej=0,el=this;ej<em.length;++ej){em[ej].parent=this;bg(em[ej],"clear",function(){el.clear()})}}z.SharedTextMarker=s;aW(s);s.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var ej=0;ej<this.markers.length;++ej){this.markers[ej].clear()}M(this,"clear")};s.prototype.find=function(){return this.primary.find()};function E(en,eq,ep,ej,el){ej=ak(ej);ej.shared=false;var eo=[da(en,eq,ep,ej,el)],ek=eo[0];var em=ej.replacedWith;cH(en,function(es){if(em){ej.replacedWith=em.cloneNode(true)}eo.push(da(es,dX(es,eq),dX(es,ep),ej,el));for(var er=0;er<es.linked.length;++er){if(es.linked[er].isParent){return}}ek=dV(eo)});return new s(eo,ek)}function dt(el,ej){if(el){for(var ek=0;ek<el.length;++ek){var em=el[ek];if(em.marker==ej){return em}}}}function dd(ek,el){for(var em,ej=0;ej<ek.length;++ej){if(ek[ej]!=el){(em||(em=[])).push(ek[ej])}}return em}function bs(ej,ek){ej.markedSpans=ej.markedSpans?ej.markedSpans.concat([ek]):[ek];ek.marker.attachLine(ej)}function ao(ek,el,ep){if(ek){for(var en=0,eq;en<ek.length;++en){var er=ek[en],eo=er.marker;var ej=er.from==null||(eo.inclusiveLeft?er.from<=el:er.from<el);if(ej||eo.type=="bookmark"&&er.from==el&&(!ep||!er.marker.insertLeft)){var em=er.to==null||(eo.inclusiveRight?er.to>=el:er.to>el);(eq||(eq=[])).push({from:er.from,to:em?null:er.to,marker:eo})}}}return eq}function ad(ek,em,ep){if(ek){for(var en=0,eq;en<ek.length;++en){var er=ek[en],eo=er.marker;var el=er.to==null||(eo.inclusiveRight?er.to>=em:er.to>em);if(el||eo.type=="bookmark"&&er.from==em&&(!ep||er.marker.insertLeft)){var ej=er.from==null||(eo.inclusiveLeft?er.from<=em:er.from<em);(eq||(eq=[])).push({from:ej?null:er.from-em,to:er.to==null?null:er.to-em,marker:eo})}}}return eq}function cS(ev,es){var er=bo(ev,es.from.line)&&dx(ev,es.from.line).markedSpans;var ey=bo(ev,es.to.line)&&dx(ev,es.to.line).markedSpans;if(!er&&!ey){return null}var ek=es.from.ch,en=es.to.ch,eq=dW(es.from,es.to);var ep=ao(er,ek,eq);var ex=ad(ey,en,eq);var ew=es.text.length==1,el=dV(es.text).length+(ew?ek:0);if(ep){for(var em=0;em<ep.length;++em){var eu=ep[em];if(eu.to==null){var ez=dt(ex,eu.marker);if(!ez){eu.to=ek}else{if(ew){eu.to=ez.to==null?null:ez.to+el}}}}}if(ex){for(var em=0;em<ex.length;++em){var eu=ex[em];if(eu.to!=null){eu.to+=el}if(eu.from==null){var ez=dt(ep,eu.marker);if(!ez){eu.from=el;if(ew){(ep||(ep=[])).push(eu)}}}else{eu.from+=el;if(ew){(ep||(ep=[])).push(eu)}}}}if(ew&&ep){for(var em=0;em<ep.length;++em){if(ep[em].from!=null&&ep[em].from==ep[em].to&&ep[em].marker.type!="bookmark"){ep.splice(em--,1)}}if(!ep.length){ep=null}}var eo=[ep];if(!ew){var et=es.text.length-2,ej;if(et>0&&ep){for(var em=0;em<ep.length;++em){if(ep[em].to==null){(ej||(ej=[])).push({from:null,to:null,marker:ep[em].marker})}}}for(var em=0;em<et;++em){eo.push(ej)}eo.push(ex)}return eo}function cJ(er,ep){var ej=bm(er,ep);var es=cS(er,ep);if(!ej){return es}if(!es){return ej}for(var em=0;em<ej.length;++em){var en=ej[em],eo=es[em];if(en&&eo){spans:for(var el=0;el<eo.length;++el){var eq=eo[el];for(var ek=0;ek<en.length;++ek){if(en[ek].marker==eq.marker){continue spans}}en.push(eq)}}else{if(eo){ej[em]=eo}}}return ej}function bQ(et,er,es){var em=null;et.iter(er.line,es.line+1,function(eu){if(eu.markedSpans){for(var ev=0;ev<eu.markedSpans.length;++ev){var ew=eu.markedSpans[ev].marker;if(ew.readOnly&&(!em||cf(em,ew)==-1)){(em||(em=[])).push(ew)}}}});if(!em){return null}var en=[{from:er,to:es}];for(var eo=0;eo<em.length;++eo){var ep=em[eo],ek=ep.find();for(var el=0;el<en.length;++el){var ej=en[el];if(dy(ej.to,ek.from)||dy(ek.to,ej.from)){continue}var eq=[el,1];if(dy(ej.from,ek.from)||!ep.inclusiveLeft&&dW(ej.from,ek.from)){eq.push({from:ej.from,to:ek.from})}if(dy(ek.to,ej.to)||!ep.inclusiveRight&&dW(ej.to,ek.to)){eq.push({from:ek.to,to:ej.to})}en.splice.apply(en,eq);el+=eq.length-1}}return en}function aX(ek,em){var ej=az&&ek.markedSpans,eo;if(ej){for(var en,el=0;el<ej.length;++el){en=ej[el];if(!en.marker.collapsed){continue}if((en.from==null||en.from<em)&&(en.to==null||en.to>em)&&(!eo||eo.width<en.marker.width)){eo=en.marker}}}return eo}function df(ej){return aX(ej,-1)}function cY(ej){return aX(ej,ej.text.length+1)}function t(el,ek){var ej;while(ej=df(ek)){ek=dx(el,ej.find().from.line)}return ek}function dN(en,ek){var ej=az&&ek.markedSpans;if(ej){for(var em,el=0;el<ej.length;++el){em=ej[el];if(!em.marker.collapsed){continue}if(em.from==null){return true}if(em.marker.replacedWith){continue}if(em.from==0&&em.marker.inclusiveLeft&&H(en,ek,em)){return true}}}}function H(ep,ek,em){if(em.to==null){var ej=em.marker.find().to,en=dx(ep,ej.line);return H(ep,en,dt(en.markedSpans,em.marker))}if(em.marker.inclusiveRight&&em.to==ek.text.length){return true}for(var eo,el=0;el<ek.markedSpans.length;++el){eo=ek.markedSpans[el];if(eo.marker.collapsed&&!eo.marker.replacedWith&&eo.from==em.to&&(eo.marker.inclusiveLeft||em.marker.inclusiveRight)&&H(ep,ek,eo)){return true}}}function ec(ej){var el=ej.markedSpans;if(!el){return}for(var ek=0;ek<el.length;++ek){el[ek].marker.detachLine(ej)}ej.markedSpans=null}function b4(ej,el){if(!el){return}for(var ek=0;ek<el.length;++ek){el[ek].marker.attachLine(ej)}ej.markedSpans=el}var cr=z.LineWidget=function(ej,em,ek){if(ek){for(var el in ek){if(ek.hasOwnProperty(el)){this[el]=ek[el]}}}this.cm=ej;this.node=em};aW(cr);function C(ej){return function(){var el=!this.cm.curOp;if(el){bS(this.cm)}try{var ek=ej.apply(this,arguments)}finally{if(el){U(this.cm)}}return ek}}cr.prototype.clear=C(function(){var ek=this.line.widgets,em=a9(this.line);if(em==null||!ek){return}for(var el=0;el<ek.length;++el){if(ek[el]==this){ek.splice(el--,1)}}if(!ek.length){this.line.widgets=null}var ej=a8(this.cm,this.line)<this.cm.doc.scrollTop;eb(this.line,Math.max(0,this.line.height-b0(this)));if(ej){bU(this.cm,0,-this.height)}O(this.cm,em,em+1)});cr.prototype.changed=C(function(){var ej=this.height;this.height=null;var ek=b0(this)-ej;if(!ek){return}eb(this.line,this.line.height+ek);var el=a9(this.line);O(this.cm,el,el+1)});function b0(ej){if(ej.height!=null){return ej.height}if(!ej.node.parentNode||ej.node.parentNode.nodeType!=1){bd(ej.cm.display.measure,d7("div",[ej.node],null,"position: relative"))}return ej.height=ej.node.offsetHeight}function a3(ej,en,el,ek){var em=new cr(ej,el,ek);if(em.noHScroll){ej.display.alignWidgets=true}c2(ej,en,function(ep){var eq=ep.widgets||(ep.widgets=[]);if(em.insertAt==null){eq.push(em)}else{eq.splice(Math.min(eq.length-1,Math.max(0,em.insertAt)),0,em)}em.line=ep;if(!dN(ej.doc,ep)||em.showIfHidden){var eo=a8(ej,ep)<ej.doc.scrollTop;eb(ep,ep.height+b0(em));if(eo){bU(ej,0,em.height)}}return true});return em}var ea=z.Line=function(el,ek,ej){this.text=el;b4(this,ek);this.height=ej?ej(this):1};aW(ea);function cU(ek,en,el,ej){ek.text=en;if(ek.stateAfter){ek.stateAfter=null}if(ek.styles){ek.styles=null}if(ek.order!=null){ek.order=null}ec(ek);b4(ek,el);var em=ej?ej(ek):1;if(em!=ek.height){eb(ek,em)}}function aY(ej){ej.parent=null;ec(ej)}function r(eq,es,em,ek,en){var el=em.flattenSpans;if(el==null){el=eq.options.flattenSpans}var ep=0,eo=null;var er=new di(es,eq.options.tabSize),ej;if(es==""&&em.blankLine){em.blankLine(ek)}while(!er.eol()){if(er.pos>eq.options.maxHighlightLength){el=false;er.pos=Math.min(es.length,er.start+50000);ej=null}else{ej=em.token(er,ek)}if(!el||eo!=ej){if(ep<er.start){en(er.start,eo)}ep=er.start;eo=ej}er.start=er.pos}if(ep<er.pos){en(er.pos,eo)}}function dS(ek,el,ep){var en=[ek.state.modeGen];r(ek,el.text,ek.doc.mode,ep,function(er,es){en.push(er,es)});for(var eq=0;eq<ek.state.overlays.length;++eq){var em=ek.state.overlays[eq],eo=1,ej=0;r(ek,el.text,em.mode,true,function(er,et){var ev=eo;while(ej<er){var es=en[eo];if(es>er){en.splice(eo,1,er,en[eo+1],es)}eo+=2;ej=Math.min(er,es)}if(!et){return}if(em.opaque){en.splice(ev,eo-ev,er,et);eo=ev+2}else{for(;ev<eo;ev+=2){var eu=en[ev+1];en[ev+1]=eu?eu+" "+et:et}}})}return en}function b8(ej,ek){if(!ek.styles||ek.styles[0]!=ej.state.modeGen){ek.styles=dS(ej,ek,ek.stateAfter=cq(ej,a9(ek)))}return ek.styles}function co(ej,ek,el){var en=ej.doc.mode;var em=new di(ek.text,ej.options.tabSize);if(ek.text==""&&en.blankLine){en.blankLine(el)}while(!em.eol()&&em.pos<=ej.options.maxHighlightLength){en.token(em,el);em.start=em.pos}}var cC={};function j(ej){if(!ej){return null}return cC[ej]||(cC[ej]="cm-"+ej.replace(/ +/g," cm-"))}function cy(er,ev,ej,eu){var es,ew=ev,eo=true;while(es=df(ew)){ew=dx(er.doc,es.find().from.line)}var ep={pre:d7("pre"),col:0,pos:0,measure:null,measuredSomething:false,cm:er,copyWidgets:eu};if(ew.textClass){ep.pre.className=ew.textClass}do{if(ew.text){eo=false}ep.measure=ew==ev&&ej;ep.pos=0;ep.addToken=ep.measure?e:p;if((cu||b2)&&er.getOption("lineWrapping")){ep.addToken=dU(ep.addToken)}var en=aQ(ew,ep,b8(er,ew));if(ej&&ew==ev&&!ep.measuredSomething){ej[0]=ep.pre.appendChild(aO(er.display.measure));ep.measuredSomething=true}if(en){ew=dx(er.doc,en.to.line)}}while(en);if(ej&&!ep.measuredSomething&&!ej[0]){ej[0]=ep.pre.appendChild(eo?d7("span","\u00a0"):aO(er.display.measure))}if(!ep.pre.firstChild&&!dN(er.doc,ev)){ep.pre.appendChild(document.createTextNode("\u00a0"))}var ek;if(ej&&cu&&(ek=a(ew))){var em=ek.length-1;if(ek[em].from==ek[em].to){--em}var et=ek[em],el=ek[em-1];if(et.from+1==et.to&&el&&et.level<el.level){var eq=ej[ep.pos-1];if(eq){eq.parentNode.insertBefore(eq.measureRight=aO(er.display.measure),eq.nextSibling)}}}af(er,"renderLine",er,ev,ep.pre);return ep.pre}var b6=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function p(en,ev,ej,em,ew,eu){if(!ev){return}if(!b6.test(ev)){en.col+=ev.length;var eq=document.createTextNode(ev)}else{var eq=document.createDocumentFragment(),es=0;while(true){b6.lastIndex=es;var ek=b6.exec(ev);var ep=ek?ek.index-es:ev.length-es;if(ep){eq.appendChild(document.createTextNode(ev.slice(es,es+ep)));en.col+=ep}if(!ek){break}es+=ep+1;if(ek[0]=="\t"){var eo=en.cm.options.tabSize,er=eo-en.col%eo;eq.appendChild(d7("span",bD(er),"cm-tab"));en.col+=er}else{var el=d7("span","\u2022","cm-invalidchar");el.title="\\u"+ek[0].charCodeAt(0).toString(16);eq.appendChild(el);en.col+=1}}}if(ej||em||ew||en.measure){var et=ej||"";if(em){et+=em}if(ew){et+=ew}var el=d7("span",[eq],et);if(eu){el.title=eu}return en.pre.appendChild(el)}en.pre.appendChild(eq)}function e(eq,es,ek,en,et){var ep=eq.cm.options.lineWrapping;for(var eo=0;eo<es.length;++eo){var ej=es.charAt(eo),el=eo==0;if(ej>="\ud800"&&ej<"\udbff"&&eo<es.length-1){ej=es.slice(eo,eo+2);++eo}else{if(eo&&ep&&bp(es,eo)){eq.pre.appendChild(d7("wbr"))}}var em=eq.measure[eq.pos];var er=eq.measure[eq.pos]=p(eq,ej,ek,el&&en,eo==es.length-1&&et);if(em){er.leftSide=em.leftSide||em}if(cu&&ep&&ej==" "&&eo&&!/\s/.test(es.charAt(eo-1))&&eo<es.length-1&&!/\s/.test(es.charAt(eo+1))){er.style.whiteSpace="normal"}eq.pos+=ej.length}if(es.length){eq.measuredSomething=true}}function dU(ej){function ek(el){var em=" ";for(var en=0;en<el.length-2;++en){em+=en%2?" ":"\u00a0"}em+=" ";return em}return function(em,eq,en,el,ep,eo){return ej(em,eq.replace(/ {3,}/,ek),en,el,ep,eo)}}function K(ek,en,ej,em){var eo=!em&&ej.replacedWith;if(eo){if(ek.copyWidgets){eo=eo.cloneNode(true)}ek.pre.appendChild(eo);if(ek.measure){if(en){ek.measure[ek.pos]=eo}else{var el=aO(ek.cm.display.measure);if(ej.type=="bookmark"&&!ej.insertLeft){ek.measure[ek.pos]=ek.pre.appendChild(el)}else{if(ek.measure[ek.pos]){return}else{ek.measure[ek.pos]=ek.pre.insertBefore(el,eo)}}}ek.measuredSomething=true}}ek.pos+=en}function aQ(es,ey,er){var eo=es.markedSpans,eq=es.text,ew=0;if(!eo){for(var eB=1;eB<er.length;eB+=2){ey.addToken(ey,eq.slice(ew,ew=er[eB]),j(er[eB+1]))}return}var eC=eq.length,en=0,eB=1,eu="",eD;var eF=0,ej,eE,ev,eG,el;for(;;){if(eF==en){ej=eE=ev=eG="";el=null;eF=Infinity;var ep=[];for(var ez=0;ez<eo.length;++ez){var eA=eo[ez],ex=eA.marker;if(eA.from<=en&&(eA.to==null||eA.to>en)){if(eA.to!=null&&eF>eA.to){eF=eA.to;eE=""}if(ex.className){ej+=" "+ex.className}if(ex.startStyle&&eA.from==en){ev+=" "+ex.startStyle}if(ex.endStyle&&eA.to==eF){eE+=" "+ex.endStyle}if(ex.title&&!eG){eG=ex.title}if(ex.collapsed&&(!el||el.marker.size<ex.size)){el=eA}}else{if(eA.from>en&&eF>eA.from){eF=eA.from}}if(ex.type=="bookmark"&&eA.from==en&&ex.replacedWith){ep.push(ex)}}if(el&&(el.from||0)==en){K(ey,(el.to==null?eC:el.to)-en,el.marker,el.from==null);if(el.to==null){return el.marker.find()}}if(!el&&ep.length){for(var ez=0;ez<ep.length;++ez){K(ey,0,ep[ez])}}}if(en>=eC){break}var et=Math.min(eC,eF);while(true){if(eu){var ek=en+eu.length;if(!el){var em=ek>et?eu.slice(0,et-en):eu;ey.addToken(ey,em,eD?eD+ej:ej,ev,en+em.length==eF?eE:"",eG)}if(ek>=et){eu=eu.slice(et-en);en=et;break}en=ek;ev=""}eu=eq.slice(ew,ew=er[eB++]);eD=j(er[eB++])}}}function dQ(eA,er,en,ev,ep){function em(eB){return en?en[eB]:null}function eq(eB,eD,eC){cU(eB,eD,eC,ep);M(eB,"change",eB,er)}var ew=er.from,ek=er.to,et=er.text;var es=dx(eA,ew.line),ej=dx(eA,ek.line);var el=dV(et),ey=em(et.length-1),eu=ek.line-ew.line;if(ew.ch==0&&ek.ch==0&&el==""){for(var ex=0,ez=et.length-1,eo=[];ex<ez;++ex){eo.push(new ea(et[ex],em(ex),ep))}eq(ej,ej.text,ey);if(eu){eA.remove(ew.line,eu)}if(eo.length){eA.insert(ew.line,eo)}}else{if(es==ej){if(et.length==1){eq(es,es.text.slice(0,ew.ch)+el+es.text.slice(ek.ch),ey)}else{for(var eo=[],ex=1,ez=et.length-1;ex<ez;++ex){eo.push(new ea(et[ex],em(ex),ep))}eo.push(new ea(el+es.text.slice(ek.ch),ey,ep));eq(es,es.text.slice(0,ew.ch)+et[0],em(0));eA.insert(ew.line+1,eo)}}else{if(et.length==1){eq(es,es.text.slice(0,ew.ch)+et[0]+ej.text.slice(ek.ch),em(0));eA.remove(ew.line+1,eu)}else{eq(es,es.text.slice(0,ew.ch)+et[0],em(0));eq(ej,el+ej.text.slice(ek.ch),ey);for(var ex=1,ez=et.length-1,eo=[];ex<ez;++ex){eo.push(new ea(et[ex],em(ex),ep))}if(eu>1){eA.remove(ew.line+1,eu-1)}eA.insert(ew.line+1,eo)}}}M(eA,"change",eA,er);be(eA,ev.anchor,ev.head,null,true)}function dm(ek){this.lines=ek;this.parent=null;for(var el=0,em=ek.length,ej=0;el<em;++el){ek[el].parent=this;ej+=ek[el].height}this.height=ej}dm.prototype={chunkSize:function(){return this.lines.length},removeInner:function(ej,en){for(var el=ej,em=ej+en;el<em;++el){var ek=this.lines[el];this.height-=ek.height;aY(ek);M(ek,"delete")}this.lines.splice(ej,en)},collapse:function(ej){ej.splice.apply(ej,[ej.length,0].concat(this.lines))},insertInner:function(ek,el,ej){this.height+=ej;this.lines=this.lines.slice(0,ek).concat(el).concat(this.lines.slice(ek));for(var em=0,en=el.length;em<en;++em){el[em].parent=this}},iterN:function(ej,em,el){for(var ek=ej+em;ej<ek;++ej){if(el(this.lines[ej])){return true}}}};function dO(em){this.children=em;var el=0,ej=0;for(var ek=0,eo=em.length;ek<eo;++ek){var en=em[ek];el+=en.chunkSize();ej+=en.height;en.parent=this}this.size=el;this.height=ej;this.parent=null}dO.prototype={chunkSize:function(){return this.size},removeInner:function(ej,eq){this.size-=eq;for(var el=0;el<this.children.length;++el){var ep=this.children[el],en=ep.chunkSize();if(ej<en){var em=Math.min(eq,en-ej),eo=ep.height;ep.removeInner(ej,em);this.height-=eo-ep.height;if(en==em){this.children.splice(el--,1);ep.parent=null}if((eq-=em)==0){break}ej=0}else{ej-=en}}if(this.size-eq<25){var ek=[];this.collapse(ek);this.children=[new dm(ek)];this.children[0].parent=this}},collapse:function(ej){for(var ek=0,el=this.children.length;ek<el;++ek){this.children[ek].collapse(ej)}},insertInner:function(ek,er,eq){this.size+=er.length;this.height+=eq;for(var el=0,en=this.children.length;el<en;++el){var ej=this.children[el],eo=ej.chunkSize();if(ek<=eo){ej.insertInner(ek,er,eq);if(ej.lines&&ej.lines.length>50){while(ej.lines.length>50){var em=ej.lines.splice(ej.lines.length-25,25);var ep=new dm(em);ej.height-=ep.height;this.children.splice(el+1,0,ep);ep.parent=this}this.maybeSpill()}break}ek-=eo}},maybeSpill:function(){if(this.children.length<=10){return}var em=this;do{var ek=em.children.splice(em.children.length-5,5);var el=new dO(ek);if(!em.parent){var en=new dO(em.children);en.parent=em;em.children=[en,el];em=en}else{em.size-=el.size;em.height-=el.height;var ej=cf(em.parent.children,em);em.parent.children.splice(ej+1,0,el)}el.parent=em.parent}while(em.children.length>10);em.parent.maybeSpill()},iterN:function(ej,eq,ep){for(var ek=0,en=this.children.length;ek<en;++ek){var eo=this.children[ek],em=eo.chunkSize();if(ej<em){var el=Math.min(eq,em-ej);if(eo.iterN(ej,el,ep)){return true}if((eq-=el)==0){break}ej=0}else{ej-=em}}}};var bE=0;var Y=z.Doc=function(el,ek,ej){if(!(this instanceof Y)){return new Y(el,ek,ej)}if(ej==null){ej=0}dO.call(this,[new dm([new ea("",null)])]);this.first=ej;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=aa();this.cleanGeneration=1;this.frontier=ej;var em=I(ej,0);this.sel={from:em,to:em,head:em,anchor:em,shift:false,extend:false,goalColumn:null};this.id=++bE;this.modeOption=ek;if(typeof el=="string"){el=aw(el)}dQ(this,{from:em,to:em,text:el},null,{head:em,anchor:em})};Y.prototype=bx(dO.prototype,{constructor:Y,iter:function(el,ek,ej){if(ej){this.iterN(el-this.first,ek-el,ej)}else{this.iterN(this.first,this.first+this.size,el)}},insert:function(ek,el){var ej=0;for(var em=0,en=el.length;em<en;++em){ej+=el[em].height}this.insertInner(ek-this.first,el,ej)},remove:function(ej,ek){this.removeInner(ej-this.first,ek)},getValue:function(ek){var ej=ay(this,this.first,this.first+this.size);if(ek===false){return ej}return ej.join(ek||"\n")},setValue:function(ek){var el=I(this.first,0),ej=this.first+this.size-1;aH(this,{from:el,to:I(ej,dx(this,ej).text.length),text:aw(ek),origin:"setValue"},{head:el,anchor:el},true)},replaceRange:function(ek,em,el,ej){em=dX(this,em);el=el?dX(this,el):em;ax(this,ek,em,el,ej)},getRange:function(em,el,ek){var ej=d8(this,dX(this,em),dX(this,el));if(ek===false){return ej}return ej.join(ek||"\n")},getLine:function(ek){var ej=this.getLineHandle(ek);return ej&&ej.text},setLine:function(ej,ek){if(bo(this,ej)){ax(this,ek,I(ej,0),dX(this,I(ej)))}},removeLine:function(ej){if(ej){ax(this,"",dX(this,I(ej-1)),dX(this,I(ej)))}else{ax(this,"",I(0,0),dX(this,I(1,0)))}},getLineHandle:function(ej){if(bo(this,ej)){return dx(this,ej)}},getLineNumber:function(ej){return a9(ej)},getLineHandleVisualStart:function(ej){if(typeof ej=="number"){ej=dx(this,ej)}return t(this,ej)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(ej){return dX(this,ej)},getCursor:function(el){var ej=this.sel,ek;if(el==null||el=="head"){ek=ej.head}else{if(el=="anchor"){ek=ej.anchor}else{if(el=="end"||el===false){ek=ej.to}else{ek=ej.from}}}return bw(ek)},somethingSelected:function(){return !dW(this.sel.head,this.sel.anchor)},setCursor:dR(function(ej,ek,em){var el=dX(this,typeof ej=="number"?I(ej,ek||0):ej);if(em){d4(this,el)}else{be(this,el,el)}}),setSelection:dR(function(ek,el,ej){be(this,dX(this,ek),dX(this,el||ek),ej)}),extendSelection:dR(function(el,ek,ej){d4(this,dX(this,el),ek&&dX(this,ek),ej)}),getSelection:function(ej){return this.getRange(this.sel.from,this.sel.to,ej)},replaceSelection:function(ek,el,ej){aH(this,{from:this.sel.from,to:this.sel.to,text:aw(ek),origin:ej},el||"around")},undo:dR(function(){bn(this,"undo")}),redo:dR(function(){bn(this,"redo")}),setExtending:function(ej){this.sel.extend=ej},historySize:function(){var ej=this.history;return{undo:ej.done.length,redo:ej.undone.length}},clearHistory:function(){this.history=aa(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(ej){return this.history.generation==(ej||this.cleanGeneration)},getHistory:function(){return{done:ba(this.history.done),undone:ba(this.history.undone)}},setHistory:function(ek){var ej=this.history=aa(this.history.maxGeneration);ej.done=ek.done.slice(0);ej.undone=ek.undone.slice(0)},markText:function(el,ek,ej){return da(this,dX(this,el),dX(this,ek),ej,"range")},setBookmark:function(el,ej){var ek={replacedWith:ej&&(ej.nodeType==null?ej.widget:ej),insertLeft:ej&&ej.insertLeft};el=dX(this,el);return da(this,el,el,ek,"bookmark")},findMarksAt:function(en){en=dX(this,en);var em=[],ek=dx(this,en.line).markedSpans;if(ek){for(var ej=0;ej<ek.length;++ej){var el=ek[ej];if((el.from==null||el.from<=en.ch)&&(el.to==null||el.to>=en.ch)){em.push(el.marker.parent||el.marker)}}}return em},getAllMarks:function(){var ej=[];this.iter(function(el){var ek=el.markedSpans;if(ek){for(var em=0;em<ek.length;++em){if(ek[em].from!=null){ej.push(ek[em].marker)}}}});return ej},posFromIndex:function(ek){var ej,el=this.first;this.iter(function(em){var en=em.text.length+1;if(en>ek){ej=ek;return true}ek-=en;++el});return dX(this,I(el,ej))},indexFromPos:function(ek){ek=dX(this,ek);var ej=ek.ch;if(ek.line<this.first||ek.ch<0){return 0}this.iter(this.first,ek.line,function(el){ej+=el.text.length+1});return ej},copy:function(ej){var ek=new Y(ay(this,this.first,this.first+this.size),this.modeOption,this.first);ek.scrollTop=this.scrollTop;ek.scrollLeft=this.scrollLeft;ek.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(ej){ek.history.undoDepth=this.history.undoDepth;ek.setHistory(this.getHistory())}return ek},linkedDoc:function(ej){if(!ej){ej={}}var em=this.first,el=this.first+this.size;if(ej.from!=null&&ej.from>em){em=ej.from}if(ej.to!=null&&ej.to<el){el=ej.to}var ek=new Y(ay(this,em,el),ej.mode||this.modeOption,em);if(ej.sharedHist){ek.history=this.history}(this.linked||(this.linked=[])).push({doc:ek,sharedHist:ej.sharedHist});ek.linked=[{doc:this,isParent:true,sharedHist:ej.sharedHist}];return ek},unlinkDoc:function(ek){if(ek instanceof z){ek=ek.doc}if(this.linked){for(var el=0;el<this.linked.length;++el){var em=this.linked[el];if(em.doc!=ek){continue}this.linked.splice(el,1);ek.unlinkDoc(this);break}}if(ek.history==this.history){var ej=[ek.id];cH(ek,function(en){ej.push(en.id)},true);ek.history=aa();ek.history.done=ba(this.history.done,ej);ek.history.undone=ba(this.history.undone,ej)}},iterLinkedDocs:function(ej){cH(this,ej)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Y.prototype.eachLine=Y.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a6 in Y.prototype){if(Y.prototype.hasOwnProperty(a6)&&cf(d,a6)<0){z.prototype[a6]=(function(ej){return function(){return ej.apply(this.doc,arguments)}})(Y.prototype[a6])}}aW(Y);function cH(em,el,ek){function ej(es,eq,eo){if(es.linked){for(var ep=0;ep<es.linked.length;++ep){var en=es.linked[ep];if(en.doc==eq){continue}var er=eo&&en.sharedHist;if(ek&&!er){continue}el(en.doc,er);ej(en.doc,es,er)}}}ej(em,null,true)}function cK(ej,ek){if(ek.cm){throw new Error("This document is already in use.")}ej.doc=ek;ek.cm=ej;J(ej);aS(ej);if(!ej.options.lineWrapping){d9(ej)}ej.options.mode=ek.modeOption;O(ej)}function dx(ej,en){en-=ej.first;while(!ej.lines){for(var ek=0;;++ek){var em=ej.children[ek],el=em.chunkSize();if(en<el){ej=em;break}en-=el}}return ej.lines[en]}function d8(el,en,ej){var ek=[],em=en.line;el.iter(en.line,ej.line+1,function(eo){var ep=eo.text;if(em==ej.line){ep=ep.slice(0,ej.ch)}if(em==en.line){ep=ep.slice(en.ch)}ek.push(ep);++em});return ek}function ay(ek,em,el){var ej=[];ek.iter(em,el,function(en){ej.push(en.text)});return ej}function eb(ek,ej){var el=ej-ek.height;for(var em=ek;em;em=em.parent){em.height+=el}}function a9(ej){if(ej.parent==null){return null}var en=ej.parent,em=cf(en.lines,ej);for(var ek=en.parent;ek;en=ek,ek=ek.parent){for(var el=0;;++el){if(ek.children[el]==en){break}em+=ek.children[el].chunkSize()}}return em+en.first}function a2(ep,en){var el=ep.first;outer:do{for(var em=0,eo=ep.children.length;em<eo;++em){var ek=ep.children[em],ej=ek.height;if(en<ej){ep=ek;continue outer}en-=ej;el+=ek.chunkSize()}return el}while(!ep.lines);for(var em=0,eo=ep.lines.length;em<eo;++em){var er=ep.lines[em],eq=er.height;if(en<eq){break}en-=eq}return el+em}function a8(ej,em){em=t(ej.doc,em);var eo=0,el=em.parent;for(var en=0;en<el.lines.length;++en){var ek=el.lines[en];if(ek==em){break}else{eo+=ek.height}}for(var ep=el.parent;ep;el=ep,ep=el.parent){for(var en=0;en<ep.children.length;++en){var eq=ep.children[en];if(eq==el){break}else{eo+=eq.height}}}return eo}function a(ek){var ej=ek.order;if(ej==null){ej=ek.order=aI(ek.text)}return ej}function aa(ej){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:ej||1,maxGeneration:ej||1}}function bh(ek,eo,en,em){var ej=eo["spans_"+ek.id],el=0;ek.iter(Math.max(ek.first,en),Math.min(ek.first+ek.size,em),function(ep){if(ep.markedSpans){(ej||(ej=eo["spans_"+ek.id]={}))[el]=ep.markedSpans}++el})}function cm(ej,em){var el={line:em.from.line,ch:em.from.ch};var ek={from:el,to:bZ(em),text:d8(ej,em.from,em.to)};bh(ej,ek,em.from.line,em.to.line+1);cH(ej,function(en){bh(en,ek,em.from.line,em.to.line+1)},true);return ek}function db(eo,eq,en,ej){var em=eo.history;em.undone.length=0;var el=+new Date,ep=dV(em.done);if(ep&&(em.lastOp==ej||em.lastOrigin==eq.origin&&eq.origin&&((eq.origin.charAt(0)=="+"&&eo.cm&&em.lastTime>el-eo.cm.options.historyEventDelay)||eq.origin.charAt(0)=="*"))){var ek=dV(ep.changes);if(dW(eq.from,eq.to)&&dW(eq.from,ek.to)){ek.to=bZ(eq)}else{ep.changes.push(cm(eo,eq))}ep.anchorAfter=en.anchor;ep.headAfter=en.head}else{ep={changes:[cm(eo,eq)],generation:em.generation,anchorBefore:eo.sel.anchor,headBefore:eo.sel.head,anchorAfter:en.anchor,headAfter:en.head};em.done.push(ep);em.generation=++em.maxGeneration;while(em.done.length>em.undoDepth){em.done.shift()}}em.lastTime=el;em.lastOp=ej;em.lastOrigin=eq.origin}function aL(el){if(!el){return null}for(var ek=0,ej;ek<el.length;++ek){if(el[ek].marker.explicitlyCleared){if(!ej){ej=el.slice(0,ek)}}else{if(ej){ej.push(el[ek])}}}return !ej?el:ej.length?ej:null}function bm(em,en){var el=en["spans_"+em.id];if(!el){return null}for(var ek=0,ej=[];ek<en.text.length;++ek){ej.push(aL(el[ek]))}return ej}function ba(et,em){for(var ep=0,ek=[];ep<et.length;++ep){var el=et[ep],er=el.changes,es=[];ek.push({changes:es,anchorBefore:el.anchorBefore,headBefore:el.headBefore,anchorAfter:el.anchorAfter,headAfter:el.headAfter});for(var eo=0;eo<er.length;++eo){var eq=er[eo],en;es.push({from:eq.from,to:eq.to,text:eq.text});if(em){for(var ej in eq){if(en=ej.match(/^spans_(\d+)$/)){if(cf(em,Number(en[1]))>-1){dV(es)[ej]=eq[ej];delete eq[ej]}}}}}}return ek}function dk(em,el,ek,ej){if(ek<em.line){em.line+=ej}else{if(el<em.line){em.line=el;em.ch=0}}}function dA(em,eo,ep,eq){for(var el=0;el<em.length;++el){var ej=em[el],en=true;for(var ek=0;ek<ej.changes.length;++ek){var er=ej.changes[ek];if(!ej.copied){er.from=bw(er.from);er.to=bw(er.to)}if(ep<er.from.line){er.from.line+=eq;er.to.line+=eq}else{if(eo<=er.to.line){en=false;break}}}if(!ej.copied){ej.anchorBefore=bw(ej.anchorBefore);ej.headBefore=bw(ej.headBefore);ej.anchorAfter=bw(ej.anchorAfter);ej.readAfter=bw(ej.headAfter);ej.copied=true}if(!en){em.splice(0,el+1);el=0}else{dk(ej.anchorBefore);dk(ej.headBefore);dk(ej.anchorAfter);dk(ej.headAfter)}}}function ct(ek,en){var em=en.from.line,el=en.to.line,ej=en.text.length-(el-em)-1;dA(ek.done,em,el,ej);dA(ek.undone,em,el,ej)}function dh(){cV(this)}function W(ej){if(!ej.stop){ej.stop=dh}return ej}function bP(ej){if(ej.preventDefault){ej.preventDefault()}else{ej.returnValue=false}}function cj(ej){if(ej.stopPropagation){ej.stopPropagation()}else{ej.cancelBubble=true}}function a7(ej){return ej.defaultPrevented!=null?ej.defaultPrevented:ej.returnValue==false}function cV(ej){bP(ej);cj(ej)}z.e_stop=cV;z.e_preventDefault=bP;z.e_stopPropagation=cj;function B(ej){return ej.target||ej.srcElement}function dZ(ek){var ej=ek.which;if(ej==null){if(ek.button&1){ej=1}else{if(ek.button&2){ej=3}else{if(ek.button&4){ej=2}}}}if(bl&&ek.ctrlKey&&ej==1){ej=3}return ej}function bg(em,ek,el){if(em.addEventListener){em.addEventListener(ek,el,false)}else{if(em.attachEvent){em.attachEvent("on"+ek,el)}else{var en=em._handlers||(em._handlers={});var ej=en[ek]||(en[ek]=[]);ej.push(el)}}}function cN(en,el,em){if(en.removeEventListener){en.removeEventListener(el,em,false)}else{if(en.detachEvent){en.detachEvent("on"+el,em)}else{var ej=en._handlers&&en._handlers[el];if(!ej){return}for(var ek=0;ek<ej.length;++ek){if(ej[ek]==em){ej.splice(ek,1);break}}}}}function af(en,em){var ej=en._handlers&&en._handlers[em];if(!ej){return}var ek=Array.prototype.slice.call(arguments,2);for(var el=0;el<ej.length;++el){ej[el].apply(null,ek)}}var aP,bF=0;function M(eo,en){var ej=eo._handlers&&eo._handlers[en];if(!ej){return}var el=Array.prototype.slice.call(arguments,2);if(!aP){++bF;aP=[];setTimeout(c3,0)}function ek(ep){return function(){ep.apply(null,el)}}for(var em=0;em<ej.length;++em){aP.push(ek(ej[em]))}}function ap(ej,el,ek){af(ej,ek||el.type,ej,el);return a7(el)||el.codemirrorIgnore}function c3(){--bF;var ej=aP;aP=null;for(var ek=0;ek<ej.length;++ek){ej[ek]()}}function dD(el,ek){var ej=el._handlers&&el._handlers[ek];return ej&&ej.length>0}z.on=bg;z.off=cN;z.signal=af;function aW(ej){ej.prototype.on=function(ek,el){bg(this,ek,el)};ej.prototype.off=function(ek,el){cN(this,ek,el)}}var aK=30;var bq=z.Pass={toString:function(){return"CodeMirror.Pass"}};function ei(){this.id=null}ei.prototype={set:function(ej,ek){clearTimeout(this.id);this.id=setTimeout(ek,ej)}};function bc(el,ej,en,eo,ek){if(ej==null){ej=el.search(/[^\s\u00a0]/);if(ej==-1){ej=el.length}}for(var em=eo||0,ep=ek||0;em<ej;++em){if(el.charAt(em)=="\t"){ep+=en-(ep%en)}else{++ep}}return ep}z.countColumn=bc;var av=[""];function bD(ej){while(av.length<=ej){av.push(dV(av)+" ")}return av[ej]}function dV(ej){return ej[ej.length-1]}function cw(ek){if(dn){ek.selectionStart=0;ek.selectionEnd=ek.value.length}else{try{ek.select()}catch(ej){}}}function cf(em,ej){if(em.indexOf){return em.indexOf(ej)}for(var ek=0,el=em.length;ek<el;++ek){if(em[ek]==ej){return ek}}return -1}function bx(em,ek){function ej(){}ej.prototype=em;var el=new ej();if(ek){ak(ek,el)}return el}function ak(ek,ej){if(!ej){ej={}}for(var el in ek){if(ek.hasOwnProperty(el)){ej[el]=ek[el]}}return ej}function S(el){for(var ej=[],ek=0;ek<el;++ek){ej.push(undefined)}return ej}function bI(ek){var ej=Array.prototype.slice.call(arguments,1);return function(){return ek.apply(null,ej)}}var aE=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bL(ej){return/\w/.test(ej)||ej>"\x80"&&(ej.toUpperCase()!=ej.toLowerCase()||aE.test(ej))}function dj(ej){for(var ek in ej){if(ej.hasOwnProperty(ek)&&ej[ek]){return false}}return true}var dJ=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function d7(ej,en,em,el){var eo=document.createElement(ej);if(em){eo.className=em}if(el){eo.style.cssText=el}if(typeof en=="string"){n(eo,en)}else{if(en){for(var ek=0;ek<en.length;++ek){eo.appendChild(en[ek])}}}return eo}function cE(ek){for(var ej=ek.childNodes.length;ej>0;--ej){ek.removeChild(ek.firstChild)}return ek}function bd(ej,ek){return cE(ej).appendChild(ek)}function n(ej,ek){if(by){ej.innerHTML="";ej.appendChild(document.createTextNode(ek))}else{ej.textContent=ek}}function al(ej){return ej.getBoundingClientRect()}z.replaceGetRect=function(ej){al=ej};var de=function(){if(by){return false}var ej=d7("div");return"draggable" in ej||"dragDrop" in ej}();function bp(){return false}if(bC){bp=function(ek,ej){return ek.charCodeAt(ej-1)==36&&ek.charCodeAt(ej)==39}}else{if(ae&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bp=function(ek,ej){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(ek.slice(ej-1,ej+1))}}else{if(b2&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)){bp=function(ek,ej){if(ej>1&&ek.charCodeAt(ej-1)==45){if(/\w/.test(ek.charAt(ej-2))&&/[^\-?\.]/.test(ek.charAt(ej))){return true}if(ej>2&&/[\d\.,]/.test(ek.charAt(ej-2))&&/[\d\.,]/.test(ek.charAt(ej))){return false}}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|[\w~`@#$%\^&*(_=+{[><]/.test(ek.slice(ej-1,ej+1))}}}}var cZ;function i(ej){if(cZ!=null){return cZ}var ek=d7("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bd(ej,ek);if(ek.offsetWidth){cZ=ek.offsetHeight-ek.clientHeight}return cZ||0}var dY;function aO(ej){if(dY==null){var ek=d7("span","\u200b");bd(ej,d7("span",[ek,document.createTextNode("x")]));if(ej.firstChild.offsetHeight!=0){dY=ek.offsetWidth<=1&&ek.offsetHeight>2&&!bz}}if(dY){return d7("span","\u200b")}else{return d7("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var aw="\n\nb".split(/\n/).length!=3?function(eo){var ep=0,ej=[],en=eo.length;while(ep<=en){var em=eo.indexOf("\n",ep);if(em==-1){em=eo.length}var el=eo.slice(ep,eo.charAt(em-1)=="\r"?em-1:em);var ek=el.indexOf("\r");if(ek!=-1){ej.push(el.slice(0,ek));ep+=ek+1}else{ej.push(el);ep=em+1}}return ej}:function(ej){return ej.split(/\r\n?|\n/)};z.splitLines=aw;var aT=window.getSelection?function(ek){try{return ek.selectionStart!=ek.selectionEnd}catch(ej){return false}}:function(el){try{var ej=el.ownerDocument.selection.createRange()}catch(ek){}if(!ej||ej.parentElement()!=el){return false}return ej.compareEndPoints("StartToEnd",ej)!=0};var b9=(function(){var ej=d7("div");if("oncopy" in ej){return true}ej.setAttribute("oncopy","return;");return typeof ej.oncopy=="function"})();var dz={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};z.keyNames=dz;(function(){for(var ej=0;ej<10;ej++){dz[ej+48]=String(ej)}for(var ej=65;ej<=90;ej++){dz[ej]=String.fromCharCode(ej)}for(var ej=1;ej<=12;ej++){dz[ej+111]=dz[ej+63235]="F"+ej}})();function cF(ej,ep,eo,en){if(!ej){return en(ep,eo,"ltr")}var em=false;for(var el=0;el<ej.length;++el){var ek=ej[el];if(ek.from<eo&&ek.to>ep||ep==eo&&ek.to==ep){en(Math.max(ek.from,ep),Math.min(ek.to,eo),ek.level==1?"rtl":"ltr");em=true}}if(!em){en(ep,eo,"ltr")}}function cp(ej){return ej.level%2?ej.to:ej.from}function ee(ej){return ej.level%2?ej.from:ej.to}function bO(ek){var ej=a(ek);return ej?cp(ej[0]):0}function bY(ek){var ej=a(ek);if(!ej){return ek.text.length}return ee(dV(ej))}function aU(ek,en){var el=dx(ek.doc,en);var eo=t(ek.doc,el);if(eo!=el){en=a9(eo)}var ej=a(eo);var em=!ej?0:ej[0].level%2?bY(eo):bO(eo);return I(en,em)}function cz(el,eo){var ek,em;while(ek=cY(em=dx(el.doc,eo))){eo=ek.find().to.line}var ej=a(em);var en=!ej?em.text.length:ej[0].level%2?bO(em):bY(em);return I(eo,en)}function V(ek,el,ej){var em=ek[0].level;if(el==em){return true}if(ej==em){return false}return el<ej}var dp;function ah(ej,en){for(var ek=0,el;ek<ej.length;++ek){var em=ej[ek];if(em.from<en&&em.to>en){dp=null;return ek}if(em.from==en||em.to==en){if(el==null){el=ek}else{if(V(ej,em.level,ej[el].level)){dp=el;return ek}else{dp=ek;return el}}}}dp=null;return el}function dw(ej,em,ek,el){if(!el){return em+ek}do{em+=ek}while(em>0&&dJ.test(ej.text.charAt(em)));return em}function q(ej,eq,el,em){var en=a(ej);if(!en){return P(ej,eq,el,em)}var ep=ah(en,eq),ek=en[ep];var eo=dw(ej,eq,ek.level%2?-el:el,em);for(;;){if(eo>ek.from&&eo<ek.to){return eo}if(eo==ek.from||eo==ek.to){if(ah(en,eo)==ep){return eo}ek=en[ep+=el];return(el>0)==ek.level%2?ek.to:ek.from}else{ek=en[ep+=el];if(!ek){return null}if((el>0)==ek.level%2){eo=dw(ej,ek.to,-1,em)}else{eo=dw(ej,ek.from,1,em)}}}}function P(ej,en,ek,el){var em=en+ek;if(el){while(em>0&&dJ.test(ej.text.charAt(em))){em+=ek}}return em<0||em>ej.text.length?null:em}var aI=(function(){var ep="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var en="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function em(es){if(es<=255){return ep.charAt(es)}else{if(1424<=es&&es<=1524){return"R"}else{if(1536<=es&&es<=1791){return en.charAt(es-1536)}else{if(1792<=es&&es<=2220){return"r"}else{return"L"}}}}}var ej=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var er=/[stwN]/,el=/[LRr]/,ek=/[Lb1n]/,eo=/[1n]/;var eq="L";return function(eC){if(!ej.test(eC)){return false}var eI=eC.length,ey=[];for(var eH=0,eu;eH<eI;++eH){ey.push(eu=em(eC.charCodeAt(eH)))}for(var eH=0,eB=eq;eH<eI;++eH){var eu=ey[eH];if(eu=="m"){ey[eH]=eB}else{eB=eu}}for(var eH=0,es=eq;eH<eI;++eH){var eu=ey[eH];if(eu=="1"&&es=="r"){ey[eH]="n"}else{if(el.test(eu)){es=eu;if(eu=="r"){ey[eH]="R"}}}}for(var eH=1,eB=ey[0];eH<eI-1;++eH){var eu=ey[eH];if(eu=="+"&&eB=="1"&&ey[eH+1]=="1"){ey[eH]="1"}else{if(eu==","&&eB==ey[eH+1]&&(eB=="1"||eB=="n")){ey[eH]=eB}}eB=eu}for(var eH=0;eH<eI;++eH){var eu=ey[eH];if(eu==","){ey[eH]="N"}else{if(eu=="%"){for(var ev=eH+1;ev<eI&&ey[ev]=="%";++ev){}var eJ=(eH&&ey[eH-1]=="!")||(ev<eI-1&&ey[ev]=="1")?"1":"N";for(var eF=eH;eF<ev;++eF){ey[eF]=eJ}eH=ev-1}}}for(var eH=0,es=eq;eH<eI;++eH){var eu=ey[eH];if(es=="L"&&eu=="1"){ey[eH]="L"}else{if(el.test(eu)){es=eu}}}for(var eH=0;eH<eI;++eH){if(er.test(ey[eH])){for(var ev=eH+1;ev<eI&&er.test(ey[ev]);++ev){}var ez=(eH?ey[eH-1]:eq)=="L";var et=(ev<eI-1?ey[ev]:eq)=="L";var eJ=ez||et?"L":"R";for(var eF=eH;eF<ev;++eF){ey[eF]=eJ}eH=ev-1}}var eG=[],eD;for(var eH=0;eH<eI;){if(ek.test(ey[eH])){var ew=eH;for(++eH;eH<eI&&ek.test(ey[eH]);++eH){}eG.push({from:ew,to:eH,level:0})}else{var ex=eH,eA=eG.length;for(++eH;eH<eI&&ey[eH]!="L";++eH){}for(var eF=ex;eF<eH;){if(eo.test(ey[eF])){if(ex<eF){eG.splice(eA,0,{from:ex,to:eF,level:1})}var eE=eF;for(++eF;eF<eH&&eo.test(ey[eF]);++eF){}eG.splice(eA,0,{from:eE,to:eF,level:2});ex=eF}else{++eF}}if(ex<eH){eG.splice(eA,0,{from:ex,to:eH,level:1})}}}if(eG[0].level==1&&(eD=eC.match(/^\s+/))){eG[0].from=eD[0].length;eG.unshift({from:0,to:eD[0].length,level:0})}if(dV(eG).level==1&&(eD=eC.match(/\s+$/))){dV(eG).to-=eD[0].length;eG.push({from:eI-eD[0].length,to:eI,level:0})}if(eG[0].level!=dV(eG).level){eG.push({from:eI,to:eI,level:eG[0].level})}return eG}})();z.version="3.16.1";return z})();